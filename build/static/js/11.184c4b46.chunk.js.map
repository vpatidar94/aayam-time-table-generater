{"version":3,"sources":["service/GlobalEmitterService.js","const/url.js","api/tt.api.js","pages/TTPages/PreviousTimeTable/PreviousTimeTable.js"],"names":["GlobalEmitterService","_createClass","_classCallCheck","emit","status","event","CustomEvent","detail","window","dispatchEvent","BASE_URL","URL","UPLOAD_FILE","GET_UPLOAD_FILE_URL","GET_SAVE_TIMETABLE_URL","GET_ALL_TT","GET_EDIT_TT","REMOVE_TT","TtApi","getTtList","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","result","wrap","_context","prev","next","fetch","method","sent","json","abrupt","t0","Error","message","options","stop","getEditTt","_ref2","_callee2","fromDateEdit","myHeaders","_context2","Headers","append","headers","body","JSON","stringify","FromDate","replaceAll","_x","apply","arguments","addUpdateTt","_ref3","_callee3","ttRequestBody","_context3","_x2","removeTtById","_ref4","_callee4","timeTableID","_context4","_x3","PreviousTimeTable","useEffect","getTimeTableList","_useState","useState","_useState2","_slicedToArray","timeTableList","setTimeTableList","_ref","_result$Object","IsSuccessful","Object","length","console","log","DeleteTt","row","TimeTableID","_jsx","_Fragment","children","className","Card","_jsxs","CardBody","CardTitle","tag","Table","responsive","borderless","reverse","map","tdata","index","Session","ToDate","NavLink","to","Button","onClick","e","outline","color","RiDeleteBin2Line","style"],"mappings":"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","file":"static/js/11.184c4b46.chunk.js","sourcesContent":["export default class GlobalEmitterService {\r\n    static emit = (status) => {\r\n        const event = new CustomEvent('spinner-load', { detail: status });\r\n        window.dispatchEvent(event);\r\n    }\r\n\r\n    // static loggedInEmitter = (loggedIn) => {\r\n    //     const event = new CustomEvent('auth-changed', { detail: loggedIn });\r\n    //     window.dispatchEvent(event);\r\n    // }\r\n}","const ENV_URL = 'https://api.aayamcareerinstitute.co.in/api'; // producation fn\r\nconst DEV_URL = 'http://localhost:5001'; // producation fn\r\nconst BASE_URL= ENV_URL\r\n\r\n\r\n\r\nexport const URL = {\r\n    UPLOAD_FILE: BASE_URL + '/UploadFilesAttachment',\r\n    GET_UPLOAD_FILE_URL: BASE_URL + '/GetFiles', \r\n    GET_SAVE_TIMETABLE_URL: BASE_URL+ '/AddUpdateTimeTable',\r\n    GET_ALL_TT: BASE_URL + '/GetTimeTable', \r\n\r\n    GET_EDIT_TT: BASE_URL + '/GetTimeTableByDate',\r\n    REMOVE_TT: BASE_URL + '/DeleteTimeTable',\r\n\r\n\r\n\r\n\r\n};  \r\n","import GlobalEmitterService from '../service/GlobalEmitterService';\r\nimport { URL } from '../const/url';\r\n\r\nexport default class TtApi {\r\n    getTtList = async () => {\r\n        try {\r\n            GlobalEmitterService.emit(true);           // GlobalEmitterService.emit is made true for adding spinner untill api is completed\r\n            const res = await fetch(URL.GET_ALL_TT, {\r\n                method: 'GET',\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    getEditTt = async (fromDateEdit) => {\r\n        try {\r\n            // const formData = new FormData();\r\n            // formData.append('file', file, file.name);\r\n            GlobalEmitterService.emit(true);\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const res = await fetch(URL.GET_EDIT_TT, {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                body: JSON.stringify({\r\n                    FromDate: fromDateEdit.replaceAll(\"-\", \"/\"),\r\n                })\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n\r\n    addUpdateTt = async (ttRequestBody) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const res = await fetch(URL.GET_SAVE_TIMETABLE_URL, {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                body: JSON.stringify(ttRequestBody)\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    removeTtById = async (timeTableID) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            // const formData = new FormData();\r\n            // formData.append('file', file, file.name);\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const res = await fetch(URL.REMOVE_TT, {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                body: timeTableID\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport TtApi from '../../../api/tt.api.js';\r\nimport { Button, Card, CardBody, CardSubtitle, CardTitle, Table } from 'reactstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { RiDeleteBin2Line } from \"react-icons/ri\";\r\n\r\nconst PreviousTimeTable = () => {\r\n  /**************************************** const Section ************************************/\r\n  /**************************************** Use Effect Section ************************************/\r\n  useEffect(() => {\r\n    getTimeTableList();\r\n  }, []);\r\n\r\n  /**************************************** State Section *****************************************/\r\n  const [timeTableList, setTimeTableList] = useState([]);\r\n\r\n  /**************************************** Component Method Section *********************************/\r\n  const getTimeTableList = async () => {\r\n    const result = await new TtApi().getTtList();\r\n    if (result.IsSuccessful && result.Object?.length > 0) {\r\n      setTimeTableList(result.Object);\r\n      console.log(result.Object)\r\n    }\r\n  };\r\n\r\n  const editTt = (row) => {\r\n    console.log('xxx xx xx row is ', row);\r\n  }\r\n\r\n  const DeleteTt = async (row) => {\r\n    await new TtApi().removeTtById(row.TimeTableID);\r\n  }\r\n\r\n  /**************************************** Template Section *****************************************/\r\n  return (\r\n    <>\r\n      <div className='col-12'>\r\n        <Card>\r\n          <CardBody>\r\n            <CardTitle tag=\"h5\">Previous Time Table</CardTitle>\r\n            <Table className=\"no-wrap mt-3 align-middle\" responsive borderless>\r\n              <thead>\r\n                <tr>\r\n                  <th>Table Id</th>\r\n                  <th>Session</th>\r\n                  <th>FromDate</th>\r\n                  <th>To Date</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {timeTableList.reverse().map((tdata, index) => (\r\n                  <tr key={tdata.TimeTableID} className=\"border-top\">\r\n                    <td>\r\n                      {tdata.TimeTableID}\r\n                    </td>\r\n                    <td>{tdata.Session}</td>\r\n                    <td>\r\n                      {tdata.FromDate}\r\n                    </td>\r\n                    <td>{tdata.ToDate}</td>\r\n                    <td>\r\n                      <NavLink to={'/clone/' + tdata.TimeTableID + '/' + tdata.FromDate.replaceAll(\"/\", '-')}><Button onClick={e => { editTt(tdata) }} className=\"btn\" outline color=\"primary\">\r\n                        Clone\r\n                      </Button></NavLink>\r\n                      <Button className=\"btn\" color=\"transparent\" onClick={e => { DeleteTt(tdata) }}>\r\n                        <RiDeleteBin2Line style={{ color: \"red\" }} />\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PreviousTimeTable\r\n"],"sourceRoot":""}