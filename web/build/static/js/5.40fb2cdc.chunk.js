(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[5],{50:function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return n})),c.d(t,"c",(function(){return r}));c(53);var a=[{FacultyID:22,Faculty:"MYK",subject:"Physics"},{FacultyID:3038,Faculty:"KPS",subject:"Chemistry"},{FacultyID:2029,Faculty:"MRS",subject:"Chemistry"},{FacultyID:3051,Faculty:"MAS",subject:"Physics"},{FacultyID:3050,Faculty:"RSS",subject:"Physics"},{FacultyID:25,Faculty:"NMS",subject:"Biology"},{FacultyID:3037,Faculty:"HDS",subject:"Chemistry"},{FacultyID:3032,Faculty:"MNM",subject:"Biology"},{FacultyID:1023,Faculty:"SJ",subject:"Biology"},{FacultyID:1025,Faculty:"AJ",subject:"Biology"},{FacultyID:1026,Faculty:"DMPS",subject:"Chemistry"},{FacultyID:1027,Faculty:"PSJ",subject:"Physics"},{FacultyID:3033,Faculty:"YBS",subject:"Biology"},{FacultyID:3030,Faculty:"AKS",subject:"Chemistry"},{FacultyID:2028,Faculty:"AMS",subject:"Maths"},{FacultyID:3031,Faculty:"NDS",subject:"Physics"},{FacultyID:3052,Faculty:"HWS",subject:"Physics"},{FacultyID:1029,Faculty:"JRS",subject:"Chemistry"},{FacultyID:3053,Faculty:"HTS",subject:"Chemistry"}],n=[{BatchID:1,Batch:"A1",CourseID:3},{BatchID:6,Batch:"A2",CourseID:3},{BatchID:10,Batch:"A3",CourseID:3},{BatchID:7,Batch:"A4",CourseID:3},{BatchID:3,Batch:"C1",CourseID:1},{BatchID:15,Batch:"C2",CourseID:1},{BatchID:2,Batch:"B1",CourseID:2},{BatchID:3049,Batch:"B2",CourseID:2},{BatchID:20,Batch:"JO1",CourseID:13},{BatchID:3042,Batch:"JXI-1",CourseID:11},{BatchID:3061,Batch:"JXI-2",CourseID:11},{BatchID:22,Batch:"JXII-1",CourseID:12},{BatchID:3079,Batch:"JEE XL",CourseID:1025},{BatchID:3078,Batch:"JEE adv",CourseID:13}],r=[{LectureID:1,Lecture:"L1",Time_From:"08:30 AM",Time_To:"09:45 AM"},{LectureID:2,Lecture:"L2",Time_From:"09:50 AM",Time_To:"11:05 AM"},{LectureID:3,Lecture:"L3",Time_From:"11:20 AM",Time_To:"12:35 PM"},{LectureID:4,Lecture:"L4",Time_From:"12:40 PM",Time_To:"01:55 PM"},{LectureID:5,Lecture:"L5",Time_From:"02:00 PM",Time_To:"03:15 PM"},{LectureID:6,Lecture:"L6",Time_From:"03:20 PM",Time_To:"04:35 PM"},{LectureID:7,Lecture:"L7",Time_From:"04:50 PM",Time_To:"06:05 PM"},{LectureID:8,Lecture:"L8",Time_From:"06:15 PM",Time_To:"07:30 PM"}]},52:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var a="https://api.aayamcareerinstitute.co.in/api",n={UPLOAD_FILE:a+"/UploadFilesAttachment",GET_UPLOAD_FILE_URL:a+"/GetFiles",GET_SAVE_TIMETABLE_URL:a+"/AddUpdateTimeTable",GET_ALL_TT:a+"/GetTimeTable",GET_EDIT_TT:a+"/GetTimeTableByDate"}},57:function(e,t,c){},58:function(e,t,c){"use strict";var a=c(8),n=c(51),r=c(7),s=c(5),o=c(9),i=c(1),u=c(50),l=c(29),d=(c(59),c(6));t.a=function(e){var t=e.showModal,c=e.setShowModal;Object(i.useEffect)((function(){if(t){var e=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.aayamcareerinstitute.co.in/api/GetMasterData");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,m(c),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[t]);var h=Object(i.useState)(u.b),b=Object(r.a)(h,2),j=(b[0],b[1]),f=Object(i.useState)({}),p=Object(r.a)(f,2),O=p[0],m=p[1],v=Object(i.useState)({}),D=Object(r.a)(v,2),y=D[0],x=D[1],I=O.Object,g=void 0===I?{}:I,F=(g.Batch,g.FacultyList),T=void 0===F?[]:F,L=g.UserList,B=void 0===L?[]:L,S={};B.forEach((function(e){S[e.UserID]=e.UserName}));var w=function(e){var t=e.target,c=t.name,r=t.checked;x(Object(n.a)(Object(n.a)({},y),{},Object(a.a)({},c,r)))},C=T.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{Faculty:S[e.FacultyID]||e.Faculty})})),_=function(){c(!1)};return Object(d.jsx)("div",{children:Object(d.jsxs)(l.x,{isOpen:t,toggle:_,style:{maxWidth:"320px"},children:[Object(d.jsx)(l.A,{toggle:_,children:"Select Teachers from the list"}),Object(d.jsx)(l.y,{children:Object(d.jsx)("div",{className:"batch-list-container",style:{maxHeight:"300px",overflowY:"scroll",maxWidth:"300px"},children:Object(d.jsx)("ul",{className:"batch-list",style:{listStyle:"none"},children:C.map((function(e){var t=e.FacultyID,c=(e.bgColor,e.className,B.find((function(e){return e.UserID===t}))),a=c?c.UserName:e.Faculty;return Object(d.jsx)("li",{children:Object(d.jsxs)("div",{className:"add-faculty-style",children:[Object(d.jsx)("input",{type:"checkbox",name:e.FacultyID,checked:y[e.FacultyID]||!1,onChange:w,className:"addfaculty-checkbox-style"}),a]})},e.FacultyID)}))})})}),Object(d.jsxs)(l.z,{children:[Object(d.jsx)(l.e,{color:"primary",onClick:function(){var e=u.b,t=function(t){if(y[t]){var c=C.find((function(e){return e.FacultyID===parseInt(t)}));if(c){var a=B.find((function(e){return e.UserID===c.FacultyID})),n=a?a.UserName:c.Faculty;e.some((function(e){return e.FacultyID===c.FacultyID}))||e.push({FacultyID:c.FacultyID,Faculty:n})}}};for(var c in y)t(c);j(e),alert("faculty added successfully")},children:"Add"})," ",Object(d.jsx)(l.e,{color:"secondary",onClick:_,children:"Close"})]})]})})}},59:function(e,t,c){},60:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var a=c(5),n=c(9),r=c(17),s=c(16),o=c(52),i=Object(r.a)((function e(){Object(s.a)(this,e),this.getTtList=Object(n.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(o.a.GET_ALL_TT,{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.getEditTt=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var c,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new Headers).append("Content-Type","application/json"),e.next=5,fetch(o.a.GET_EDIT_TT,{method:"POST",headers:c,body:JSON.stringify({FromDate:t.replaceAll("-","/")})});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),this.saveTt=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c,n,r){var s,i,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),e.next=5,fetch(o.a.GET_SAVE_TIMETABLE_URL,{method:"POST",headers:s,body:JSON.stringify({TimeTableID:0,Description:"time table save",DateType:"multiple",FromDate:t,ToDate:c,ShiftID:1,SessionID:5,Session:"string",BatchID:r,LectureID:[1,2,3,4,5,6,7,8],IsActive:!0,CreatedByUserID:1,CreatedOnDate:(new Date).toLocaleString(),LectureList:n})});case 5:return i=e.sent,e.next=8,i.json();case 8:return u=e.sent,e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,c,a,n){return e.apply(this,arguments)}}(),this.saveEditedTt=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c,n,r,s,i,u,l,d,h,b){var j,f,p;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(j=new Headers).append("Content-Type","application/json"),e.next=5,fetch(o.a.GET_SAVE_TIMETABLE_URL,{method:"POST",headers:j,body:JSON.stringify({TimeTableID:0,Description:"time table save",DateType:"multiple",FromDate:n,ToDate:r,ShiftID:s,SessionID:i,Session:u,BatchID:l,LectureID:d,IsActive:!0,CreatedByUserID:h,CreatedOnDate:(new Date).toLocaleString(),LectureList:b})});case 5:return f=e.sent,e.next=8,f.json();case 8:return p=e.sent,e.abrupt("return",p);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,c,a,n,r,s,o,i,u,l,d){return e.apply(this,arguments)}}()}))},61:function(e,t,c){"use strict";c.r(t);var a=c(8),n=c(51),r=c(7),s=c(5),o=c(9),i=c(1),u=(c(50),c(29)),l=(c(57),c(6));t.default=function(e){var t=e.showModal,c=e.setShowModal,d=e.batchList;Object(i.useEffect)((function(){if(t){var e=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.aayamcareerinstitute.co.in/api/GetMasterData");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,m(c),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[t]);var h=Object(i.useState)(d),b=Object(r.a)(h,2),j=(b[0],b[1]),f=Object(i.useState)({}),p=Object(r.a)(f,2),O=p[0],m=p[1],v=Object(i.useState)({}),D=Object(r.a)(v,2),y=D[0],x=D[1],I=O.Object,g=(void 0===I?{}:I).Batch,F=void 0===g?[]:g,T=function(e){var t=e.target,c=t.name,r=t.checked;x(Object(n.a)(Object(n.a)({},y),{},Object(a.a)({},c,r)))},L=function(){c(!1)};return Object(l.jsx)("div",{children:Object(l.jsxs)(u.x,{isOpen:t,toggle:L,style:{maxWidth:"320px"},children:[Object(l.jsx)(u.A,{toggle:L,children:"Select Batches from the list"}),Object(l.jsx)(u.y,{children:Object(l.jsx)("div",{className:"batch-list-container",style:{maxHeight:"300px",overflowY:"scroll",maxWidth:"300px"},children:Object(l.jsx)("ul",{className:"batch-list",style:{listStyle:"none"},children:F.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"add-batch-style",children:[Object(l.jsx)("input",{type:"checkbox",name:e.BatchID,checked:y[e.BatchID]||!1,onChange:T,className:"addbatch-checkbox-style"}),e.Batch]})},e.BatchID)}))})})}),Object(l.jsxs)(u.z,{children:[Object(l.jsx)(u.e,{color:"primary",onClick:function(){var e=d,t=function(t){if(y[t]){var c=F.find((function(e){return e.BatchID===parseInt(t)}));c&&!e.find((function(e){return e.BatchID===c.BatchID}))&&e.push({BatchID:c.BatchID,Batch:c.Batch,CourseID:c.CourseID})}};for(var c in y)t(c);j(e),alert("batches added successfully")},children:"Add"})," ",Object(l.jsx)(u.e,{color:"secondary",onClick:L,children:"Close"})]})]})})}},64:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var a=c(5),n=c(9),r=c(17),s=c(16),o=c(52),i=Object(r.a)((function e(){Object(s.a)(this,e),this.getWattsappApi=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c,n,r){var s,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("url",t),console.log("mesage",c),console.log("cel",n),console.log("file",r),e.next=7,fetch("https://ziper.io/api/send.php?"+new URLSearchParams({number:n,type:"media",message:c,media_url:"https://api.aayamcareerinstitute.co.in/"+t,filename:r,instance_id:"6453479F141A2",access_token:"0a3e27126c2c239bdf7f9128943ef9c0"}),{method:"GET"});case 7:return s=e.sent,e.next=10,s.json();case 10:return o=e.sent,e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,c,a,n){return e.apply(this,arguments)}}(),this.getWattsappGroupApiTeachers=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c,n){var r,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("url",t),console.log("mesage",c),console.log("file",n),e.next=6,fetch("https://ziper.io/api/sendgroupmsg.php?"+new URLSearchParams({group_id:"919977116612-1595572006@g.us",type:"media",message:c,media_url:"https://api.aayamcareerinstitute.co.in/"+t,filename:n,instance_id:"6453479F141A2",access_token:"0a3e27126c2c239bdf7f9128943ef9c0"}),{method:"GET"});case 6:return r=e.sent,e.next=9,r.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c,a){return e.apply(this,arguments)}}(),this.getWattsappGroupApiOthers=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c,n){var r,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("url",t),console.log("mesage",c),console.log("file",n),e.next=6,fetch("https://ziper.io/api/sendgroupmsg.php?"+new URLSearchParams({group_id:"919826362001-1628170376@g.us",type:"media",message:c,media_url:"https://api.aayamcareerinstitute.co.in/"+t,filename:n,instance_id:"6453479F141A2",access_token:"0a3e27126c2c239bdf7f9128943ef9c0"}),{method:"GET"});case 6:return r=e.sent,e.next=9,r.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c,a){return e.apply(this,arguments)}}(),this.uplaodFile=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var c,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("file",t,t.name),e.next=5,fetch(o.a.UPLOAD_FILE,{method:"POST",body:c});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),this.getUploadedFile=Object(n.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(o.a.GET_UPLOAD_FILE_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0.message,e.t0.options);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))}))},73:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var a=["#D4E6F1","#E8DAEF","#008080","#808000","#C39BD3","#76D7C4","#3498DB","#358b79","#847f86","rgb(251, 235, 9)","#CA6F1E","#CCCCFF","#F4D03F","rgb(199, 185, 84)","#979A9A","#F0B27A","rgb(117, 98, 179)","#CD5C5C","#40E0D0","#DAF7A6","#008080","#808000","#FADBD8","green","yellow","white","red","pink"]},82:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var a=c(5),n=c(51),r=c(10),s=c(9),o=c(7),i=c(4),u=c(60),l=(c(82),c(66)),d=c.n(l),h=c(1),b=c(67),j=c(29),f=c(73),p=c(61),O=c(50),m=c(64),v=c(58),D=c(6);t.default=function(){var e=Object(i.p)().fromDateEdit;Object(h.useEffect)((function(){Ee(),Ne();var e=document.querySelector(".table-style");if(e){var t=e.offsetWidth;g(t)}}),[]);var t=Object(h.useState)(null),c=Object(o.a)(t,2),l=c[0],y=c[1],x=Object(h.useState)(0),I=Object(o.a)(x,2),g=(I[0],I[1]),F=Object(h.useState)({}),T=Object(o.a)(F,2),L=T[0],B=T[1],S=Object(h.useState)([]),w=Object(o.a)(S,2),C=w[0],_=w[1],A=Object(h.useState)({}),E=Object(o.a)(A,2),N=E[0],k=E[1],M=Object(h.useState)({}),P=Object(o.a)(M,2),U=P[0],G=P[1],J=Object(h.useState)({}),R=Object(o.a)(J,2),W=R[0],H=R[1],z=Object(h.useState)(!1),V=Object(o.a)(z,2),X=V[0],Y=V[1],K=Object(h.useState)(null),q=Object(o.a)(K,2),Q=q[0],Z=q[1],$=Object(h.useState)(null),ee=Object(o.a)($,2),te=ee[0],ce=(ee[1],Object(h.useState)(null)),ae=Object(o.a)(ce,2),ne=(ae[0],ae[1]),re=Object(h.useState)(!1),se=Object(o.a)(re,2),oe=se[0],ie=se[1],ue=Object(h.useState)(!1),le=Object(o.a)(ue,2),de=le[0],he=le[1],be=Object(h.useState)(),je=Object(o.a)(be,2),fe=je[0],pe=je[1],Oe=Object(h.useState)(""),me=Object(o.a)(Oe,2),ve=me[0],De=me[1],ye=Object(h.useRef)(null),xe=Object(h.useState)([]),Ie=Object(o.a)(xe,2),ge=Ie[0],Fe=Ie[1],Te=Object(h.useState)([]),Le=Object(o.a)(Te,2),Be=Le[0],Se=Le[1],we=Object(h.useState)(!1),Ce=Object(o.a)(we,2),_e=Ce[0],Ae=Ce[1],Ee=function(){var e=[];O.b.forEach((function(t,c){t.color=f.a[c],e.push(t)})),Se([].concat(e))},Ne=function(){var t=Object(s.a)(Object(a.a)().mark((function t(){var c,s,o,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new u.a).getEditTt(e);case 2:s=t.sent,y(s.Object),pe(s.Object.FromDate),console.log(s.Object.FromDate),De(s.Object.ToDate),console.log(s.Object.FromDate),console.log(fe),console.log(fe),ke(s.Object),_(Object(r.a)(s.Object.LectureList)),console.log("xxxlecture",C),o=N,(null===(c=s.Object.LectureList)||void 0===c?void 0:c.length)>0&&(null===(i=s.Object.LectureList)||void 0===i||i.forEach((function(e){var t,c;if(null!==e&&void 0!==e&&null!==(t=e.Batch)&&void 0!==t&&t.BatchID&&null!==e&&void 0!==e&&null!==(c=e.Lecture)&&void 0!==c&&c.LectureName&&null!==e&&void 0!==e&&e.FacultyID){var a,r,i,u,l,d=O.c.find((function(t){var c;return t.Lecture===(null===e||void 0===e||null===(c=e.Lecture)||void 0===c?void 0:c.LectureName)})),h=O.b.find((function(t){return t.FacultyID===e.FacultyID}));if(null!==d&&void 0!==d&&d.LectureID&&null!==h&&void 0!==h&&h.FacultyID&&(null===s||void 0===s||null===(a=s.Object)||void 0===a||null===(r=a.BatchID)||void 0===r?void 0:r.indexOf(null===e||void 0===e||null===(i=e.Batch)||void 0===i?void 0:i.BatchID))>=0&&(null===s||void 0===s||null===(u=s.Object)||void 0===u||null===(l=u.LectureID)||void 0===l?void 0:l.indexOf(null===d||void 0===d?void 0:d.LectureID))>=0){var b,j=d.LectureID+"_"+(null===e||void 0===e||null===(b=e.Batch)||void 0===b?void 0:b.BatchID);N[j]||(o[j]=h,k(Object(n.a)({},o)),Ue(d,null===e||void 0===e?void 0:e.Batch,h),Ge(h))}}}))),console.log("xxx tt",l),Ae(!0);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ke=function(e){if(e){var t,c=null===e||void 0===e||null===(t=e.Batch)||void 0===t?void 0:t.filter((function(t){var c;return(null===(c=e.BatchID)||void 0===c?void 0:c.indexOf(t.BatchID))>=0}));Fe(Object(r.a)(c))}},Me=function(e,t){B(t)},Pe=function(e){for(var t=e.target;t&&(!t.classList||!t.classList.contains("each-block"));)t=t.parentNode;if(t&&""!==t.innerText.trim())return!1;e.preventDefault()},Ue=function(e,t,c){var a=C,n={ID:"0",TimeTableID:"0",LectureName:""};n.Batch=t,n.Lecture=e,n.Subject=c.subject,n.FacultyID=c.FacultyID,n.IsActive=!0,n.CreatedByUserID="1",n.CreatedOnDate="02/05/2023",a.push(n),_(Object(r.a)(a))},Ge=function(e){var t=U;t[e.FacultyID]?t[e.FacultyID]+=1:t[e.FacultyID]=1,G(Object(n.a)({},t))},Je=function(e,t,c){var a=L;if(Q){var r=Q.lecture.LectureID+"_"+Q.batch.BatchID;a=N[r],Re(Q.lecture.LectureID,Q.batch.BatchID,N[r].FacultyID)}var s=N,o=t.LectureID+"_"+c.BatchID;N[o]=a,k(Object(n.a)({},s)),Ue(t,c,a),Ge(a),function(e,t){var c=e+"_"+t,a=W;a[c]?a[c]+=1:a[c]=1,H(Object(n.a)({},a)),a[c]>1&&(Y(!0),setTimeout((function(){Y(!1)}),3e3))}(t.LectureID,a.FacultyID),B({}),Z(null)},Re=function(e,t,c){var a=N;delete a[e+"_"+t],k(Object(n.a)({},a));var s=C,o=null===s||void 0===s?void 0:s.findIndex((function(c){var a,n;return(null===(a=c.Batch)||void 0===a?void 0:a.BatchID)===t&&(null===(n=c.Lecture)||void 0===n?void 0:n.LectureID)===e}));console.log("gggindex",o),console.log("xxlectureid",e),console.log("xxbatchid",t),console.log("xxlecturliststate",s),o>=0&&(s.splice(o,1),_(Object(r.a)(s)));var i=U;i[c]-=1,i[c]<=0&&delete i[c],G(i),console.log("xxxmy lre",C)},We=function(e,t){if(!e||!t)return!1;var c=e+"_"+t;return console.log(c),W[c]>1},He=function(e){if(!e)return"";console.log("xxxdaete",e);var t=e.split("/");return new Date(+t[2],t[1]-1,+t[0]).toISOString().substring(0,10)},ze=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3))},Ve=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){var t,c,n,r,s,o,i,u,l,h,b,j,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(ye.current);case 2:for(t=e.sent,c=t.toDataURL(),ne(c),n=atob(c.split(",")[1]),r=c.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(n.length),o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return i=new Blob([s],{type:r}),u=ze(),l=new File([i],u+".jpg"),h=u+".jpg",e.next=15,(new m.a).uplaodFile(l);case 15:if("Success"!==e.sent){e.next=38;break}return e.next=19,(new m.a).getUploadedFile();case 19:if(j=e.sent,!((null===(b=j.Object)||void 0===b?void 0:b.length)>0)){e.next=38;break}return f=j.Object.reverse().find((function(e){var t;return(null===(t=e.Title)||void 0===t?void 0:t.indexOf(u))>=0})),e.prev=22,e.next=25,(new m.a).getWattsappGroupApiOthers(f.LongURL,"time table",h);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),console.log("error");case 30:return e.prev=30,e.next=33,(new m.a).getWattsappGroupApiTeachers(f.LongURL,"time table",h);case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(30),console.log("error");case 38:alert("Time table image sent successfully");case 39:case"end":return e.stop()}}),e,null,[[22,27],[30,35]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge.map((function(e){return e.BatchID})),console.log("xxsent",t),e.next=4,(new u.a).saveEditedTt(l.TimeTableID,l.DateType,fe,ve,l.ShiftID,l.SessionID,l.Session,t,l.LectureID,l.CreatedByUserID,C);case 4:c=e.sent,console.log("mmmm",c),console.log("lllmmmnn",C),alert("time table saved successfully");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)(D.Fragment,{children:_e?Object(D.jsx)("div",{children:Object(D.jsxs)("div",{className:"bg-container",children:[X?Object(D.jsx)(j.a,{color:"warning",children:"Two same teachers found in the same row"}):Object(D.jsx)(D.Fragment,{}),Object(D.jsx)("h1",{className:"heading-style",children:"CLASS SCHEDULE"}),Object(D.jsxs)("div",{className:"button-group added-style",children:[Object(D.jsx)(j.e,{className:"btn ",color:"info",onClick:function(){ie(!0)},children:"Add Batches"}),oe&&Object(D.jsx)(p.default,{showModal:oe,setShowModal:ie,batchList:ge}),te,Object(D.jsx)(j.e,{className:"btn",color:"info",onClick:function(){he(!0)},children:"Add Teachers"}),de&&Object(D.jsx)(v.a,{showModal:de,setShowModal:he}),Object(D.jsx)(j.e,{className:"btn",color:"info",onClick:Xe,children:"Save"}),Object(D.jsx)(j.e,{className:"btn",color:"info",onClick:Ve,children:"Post"}),Object(D.jsx)(j.e,{className:"btn",color:"info",onClick:function(e){var t=N;delete t[e],k({stateTeacherAssignment:t})},children:"Clear ALL"})]}),Object(D.jsx)("div",{children:Object(D.jsxs)("div",{ref:ye,children:[Object(D.jsx)("br",{}),Object(D.jsx)(j.q,{children:Object(D.jsxs)("div",{className:"time-table-date-style",children:[Object(D.jsxs)(j.r,{className:"label-date-allignment",children:[Object(D.jsx)("p",{children:"From:"}),Object(D.jsx)(j.t,{id:"fromDate",name:"fromDate",type:"date",defaultValue:He(fe),onChange:function(e){!function(e){pe(e.target.value)}(e)},className:"input-size"})]}),Object(D.jsxs)(j.r,{className:"label-date-allignment",children:[Object(D.jsx)("p",{children:"To:"}),Object(D.jsx)(j.t,{id:"toDate",name:"toDate",type:"date",defaultValue:He(ve),onChange:function(e){!function(e){De(e.target.value)}(e)},className:"input-size"})]})]})}),Object(D.jsx)("table",{className:"table-style",children:Object(D.jsxs)("tbody",{children:[Object(D.jsx)("div",{className:"for-time",children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"F-style time-style",children:"Time"}),ge&&ge.map((function(e){return Object(D.jsxs)("td",{className:"F-style batch-style",children:[e.Batch,Object(D.jsx)("button",{className:"delete-style",onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this batch?")){var t=ge.filter((function(t){return t.BatchID!==e}));Fe(t)}}(e.BatchID)},children:Object(D.jsx)(b.a,{})})]},e.BatchID)}))]})}),Object(D.jsx)("tr",{children:O.c.map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsxs)("td",{className:"F-style time-style",children:[e.Time_From,"-",e.Time_To]}),ge&&ge.map((function(t){var c,a,n,r,s,o,i=e.LectureID+"_"+t.BatchID;return Object(D.jsx)("td",{draggable:!0,onDragOver:Pe,onDrop:function(c){return Je(0,e,t)},onDragStart:function(c){Z({lecture:e,batch:t})},id:i,className:"each-block ".concat(We(e.LectureID,null!==(c=null===(a=N[i])||void 0===a?void 0:a.FacultyID)&&void 0!==c?c:null)?"blink":""),style:{backgroundColor:null===(n=N[i])||void 0===n?void 0:n.color},children:Object(D.jsxs)("div",{className:"teacname-cross-style ".concat(null===(r=N[i])||void 0===r?void 0:r.className," "),children:[Object(D.jsx)("div",{className:"teacher-name",children:null===(s=N[i])||void 0===s?void 0:s.Faculty}),Object(D.jsx)("div",{className:"cross-btn-container",children:null!==(o=N[i])&&void 0!==o&&o.Faculty?Object(D.jsx)("button",{className:"cross-style",onClick:function(){return Re(e.LectureID,t.BatchID,N[i].FacultyID)},children:Object(D.jsx)(b.a,{})}):Object(D.jsx)(D.Fragment,{})})]})},i)}))]})}))})]})})]})}),Object(D.jsx)("div",{className:"teacher-container",children:Be.map((function(e,t){var c=e.FacultyID,a=e.Faculty;return Object(D.jsxs)("div",{style:{backgroundColor:e.color},className:"teacher-item",draggable:!0,onDragStart:function(t){return Me(0,e)},onDragEnd:function(e){B({})},onTouchStart:function(t){return Me(0,e)},onTouchMove:function(e){return function(e){console.log(e);var t=e.touches[0].clientX,c=e.touches[0].clientY,a=document.elementFromPoint(t,c);alert("xx xx elem ",a.id)}(e)},children:[Object(D.jsx)("h3",{children:a}),U[c]>0&&Object(D.jsx)("span",{className:"counter-item ",draggable:!1,children:U[c]}),Object(D.jsx)("button",{className:"delete-style",onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this Faculty?")){var t=Be.filter((function(t){return t.FacultyID!==e}));Se(t)}}(e.FacultyID)},children:Object(D.jsx)(b.a,{})})]},c)}))})]})}):Object(D.jsx)("div",{})})}}}]);
//# sourceMappingURL=5.40fb2cdc.chunk.js.map