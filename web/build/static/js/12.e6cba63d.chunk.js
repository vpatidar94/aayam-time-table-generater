(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[12],{50:function(t,e,c){"use strict";c.d(e,"b",(function(){return a})),c.d(e,"a",(function(){return r})),c.d(e,"c",(function(){return s}));c(53);var a=[{FacultyID:22,Faculty:"MYK",subject:"Physics"},{FacultyID:3038,Faculty:"KPS",subject:"Chemistry"},{FacultyID:2029,Faculty:"MRS",subject:"Chemistry"},{FacultyID:3051,Faculty:"MAS",subject:"Physics"},{FacultyID:3050,Faculty:"RSS",subject:"Physics"},{FacultyID:25,Faculty:"NMS",subject:"Biology"},{FacultyID:3037,Faculty:"HDS",subject:"Chemistry"},{FacultyID:3032,Faculty:"MNM",subject:"Biology"},{FacultyID:1023,Faculty:"SJ",subject:"Biology"},{FacultyID:1025,Faculty:"AJ",subject:"Biology"},{FacultyID:1026,Faculty:"DMPS",subject:"Chemistry"},{FacultyID:1027,Faculty:"PSJ",subject:"Physics"},{FacultyID:3033,Faculty:"YBS",subject:"Biology"},{FacultyID:3030,Faculty:"AKS",subject:"Chemistry"},{FacultyID:2028,Faculty:"AMS",subject:"Maths"},{FacultyID:3031,Faculty:"NDS",subject:"Physics"},{FacultyID:3052,Faculty:"HWS",subject:"Physics"},{FacultyID:1029,Faculty:"JRS",subject:"Chemistry"},{FacultyID:3053,Faculty:"HTS",subject:"Chemistry"}],r=[{BatchID:1,Batch:"A1",CourseID:3},{BatchID:6,Batch:"A2",CourseID:3},{BatchID:10,Batch:"A3",CourseID:3},{BatchID:7,Batch:"A4",CourseID:3},{BatchID:3,Batch:"C1",CourseID:1},{BatchID:15,Batch:"C2",CourseID:1},{BatchID:2,Batch:"B1",CourseID:2},{BatchID:3049,Batch:"B2",CourseID:2},{BatchID:20,Batch:"JO1",CourseID:13},{BatchID:3042,Batch:"JXI-1",CourseID:11},{BatchID:3061,Batch:"JXI-2",CourseID:11},{BatchID:22,Batch:"JXII-1",CourseID:12},{BatchID:3079,Batch:"JEE XL",CourseID:1025},{BatchID:3078,Batch:"JEE adv",CourseID:13}],s=[{LectureID:1,Lecture:"L1",Time_From:"08:30 AM",Time_To:"09:45 AM"},{LectureID:2,Lecture:"L2",Time_From:"09:50 AM",Time_To:"11:05 AM"},{LectureID:3,Lecture:"L3",Time_From:"11:20 AM",Time_To:"12:35 PM"},{LectureID:4,Lecture:"L4",Time_From:"12:40 PM",Time_To:"01:55 PM"},{LectureID:5,Lecture:"L5",Time_From:"02:00 PM",Time_To:"03:15 PM"},{LectureID:6,Lecture:"L6",Time_From:"03:20 PM",Time_To:"04:35 PM"},{LectureID:7,Lecture:"L7",Time_From:"04:50 PM",Time_To:"06:05 PM"},{LectureID:8,Lecture:"L8",Time_From:"06:15 PM",Time_To:"07:30 PM"}]},81:function(t,e,c){},95:function(t,e,c){"use strict";c.r(e);var a=c(8),r=c(51),s=c(7),n=c(1),u=c(50),i=c(67),l=(c(81),c(66)),o=c.n(l),h=c(6);e.default=function(){var t=Object(n.useState)({}),e=Object(s.a)(t,2),c=e[0],l=e[1],j=Object(n.useState)(0),b=Object(s.a)(j,2),y=b[0],m=b[1],d=Object(n.useState)(null),D=Object(s.a)(d,2),I=D[0],O=D[1],f=Object(n.useState)({}),F=Object(s.a)(f,2),v=F[0],B=F[1],S=Object(n.useState)(!1),g=Object(s.a)(S,2),C=(g[0],g[1]),L=Object(n.useState)({}),x=Object(s.a)(L,2),T=x[0],M=x[1],N=Object(n.useState)({}),p=Object(s.a)(N,2),P=p[0],_=p[1],A=Object(n.useState)(null),J=Object(s.a)(A,2),k=J[0],E=J[1],U=Object(n.useRef)(null);Object(n.useEffect)((function(){R()}),[]),Object(n.useEffect)((function(){console.log("Saving teacherAssignment:",P),console.log("Saving teacherCounter:",T),localStorage.setItem("teacherAssignment",JSON.stringify(P)),localStorage.setItem("teacherCounter",JSON.stringify(T))}),[P,T]);var R=function(){fetch("https://api.aayamcareerinstitute.co.in/api/GetMasterData").then((function(t){return t.json()})).then((function(t){return l(t)})).catch((function(t){return console.log("error",t)}))},W=Object(n.useRef)();Object(n.useEffect)((function(){var t=document.querySelector(".table-style");if(t){var e=t.offsetWidth;m(e)}}),[]);var H=function(t,e){if(I){var c,s=P[I],n=P[e];_(Object(r.a)(Object(r.a)({},P),{},(c={},Object(a.a)(c,I,n),Object(a.a)(c,e,s),c))),O(null)}else{var u=Object(r.a)({},P);u[e]=W.current,_(u),M((function(t){var e=Object(r.a)({},t),c=W.current.teacher;return e[c]=e[c]?e[c]+1:1,e})),function(t){var e=t.split("_")[0],c=[];for(var a in P)a.startsWith(e)&&c.push({key:a,teacher:P[a].teacher});var r=c.reduce((function(t,e){return t[e.teacher]?t[e.teacher].push(e.key):t[e.teacher]=[e.key],t}),{}),s=Object.values(r).filter((function(t){return t.length>1})).flat();!Object.keys(v).includes(t)&&s.includes(t)&&(C(!0),B(s.reduce((function(t,e){return t[e]=!0,t}),{})))}(e)}},X=function(t){for(var e=t.target;e&&(!e.classList||!e.classList.contains("each-block"));)e=e.parentNode;if(e&&""!==e.innerText.trim())return!1;t.preventDefault()},K=c.Object,w=void 0===K?{}:K,Y=w.Batch,q=void 0===Y?[]:Y,G=w.FacultyList,z=void 0===G?[]:G,Q=w.UserList,V=void 0===Q?[]:Q,Z={};V.forEach((function(t){Z[t.UserID]=t.UserName}));var $=z.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{Faculty:Z[t.FacultyID]||t.Faculty})}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:R,children:"Call"}),Object(h.jsxs)("div",{className:"bg-container",children:[Object(h.jsx)("h1",{className:"heading-style",children:"CLASS SCHEDULE"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{ref:U,children:Object(h.jsx)("table",{className:"table-style",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"F-style time-style",children:"Time"}),q.map((function(t){return Object(h.jsx)("td",{className:"F-style batch-style",children:t.Batch},t.BatchID)}))]}),u.c.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"F-style time-style",children:t.classtime}),q.map((function(e){var c,a,s,n,u="".concat(t.id,"_").concat(e.id);return Object(h.jsx)("td",{draggable:!0,onDragOver:X,onDrop:function(t){return H(0,u)},onDragStart:function(t){return P[u]&&function(t,e){O(e)}(0,u)},id:u,className:"each-block ".concat(v[u]?"blink":""," ").concat(null===(c=P[u])||void 0===c?void 0:c.className),children:P[u]&&Object(h.jsxs)("div",{className:"teacname-cross-style ".concat(null===(a=P[u])||void 0===a?void 0:a.className),children:[Object(h.jsx)("div",{className:"teacher-name",children:null===(s=P[u])||void 0===s?void 0:s.teacher}),Object(h.jsx)("div",{className:"cross-btn-container",children:(null===(n=P[u])||void 0===n?void 0:n.teacher)&&Object(h.jsx)("button",{className:"cross-style",onClick:function(){return function(t){var e=Object(r.a)({},P),c=Object(r.a)({},T);c[P[t].teacher]&&(c[P[t].teacher]-=1),delete e[t],_(e),M(c)}(u)},children:Object(h.jsx)(i.a,{})})})]})},u)}))]},t.id)}))]})})}),Object(h.jsx)("button",{onClick:function(){o()(U.current).then((function(t){var e=t.toDataURL();E(e)})).catch((function(t){console.error(t)}))},children:"Convert to Image"}),k&&Object(h.jsx)("img",{src:k,alt:"table",style:{maxWidth:y}})]}),Object(h.jsx)("div",{className:"teacher-container",style:{maxWidth:y},children:$.map((function(t,e){var c=t.FacultyID,a=t.bgColor,r=t.className,s=V.find((function(t){return t.UserID===c})),n=s?s.UserName:t.Faculty;return Object(h.jsxs)("div",{style:{maxWidth:y},className:"teacher-item ".concat(a," ").concat(r),draggable:!0,onDragStart:function(t){return e={teacher:n},void(W.current=e);var e},children:[Object(h.jsx)("h3",{children:n}),T[n]>0&&Object(h.jsx)("span",{className:"counter-item ".concat(a),draggable:!1,children:T[n]})]},c)}))})]})]})}}}]);
//# sourceMappingURL=12.e6cba63d.chunk.js.map