(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[9],{50:function(t,e,c){"use strict";c.d(e,"b",(function(){return a})),c.d(e,"a",(function(){return r})),c.d(e,"c",(function(){return n}));c(53);var a=[{FacultyID:1,Faculty:"MYK",subject:"Physics"},{FacultyID:2,Faculty:"KPS",subject:"Chemistry"},{FacultyID:3,Faculty:"MRS",subject:"Chemistry"},{FacultyID:4,Faculty:"MAS",subject:"Physics"},{FacultyID:5,Faculty:"RSS",subject:"Physics"},{FacultyID:6,Faculty:"NMS",subject:"Biology"},{FacultyID:7,Faculty:"HDS",subject:"Chemistry"},{FacultyID:8,Faculty:"MNM",subject:"Biology"},{FacultyID:9,Faculty:"SJ",subject:"Biology"},{FacultyID:10,Faculty:"AJ",subject:"Biology"},{FacultyID:11,Faculty:"DMPS",subject:"Chemistry"},{FacultyID:12,Faculty:"PSJ",subject:"Physics"},{FacultyID:13,Faculty:"YBS",subject:"Biology"},{FacultyID:14,Faculty:"AKS",subject:"Chemistry"},{FacultyID:15,Faculty:"AMS",subject:"Maths"},{FacultyID:16,Faculty:"NDS",subject:"Physics"},{FacultyID:17,Faculty:"HWS",subject:"Physics"},{FacultyID:18,Faculty:"JRS",subject:"Chemistry"},{FacultyID:19,Faculty:"HTS",subject:"Chemistry"}],r=[{BatchID:1,Batch:"A1",CourseID:1},{BatchID:2,Batch:"A2",CourseID:2},{BatchID:3,Batch:"A3",CourseID:3},{BatchID:4,Batch:"A4",CourseID:4},{BatchID:5,Batch:"C1",CourseID:5},{BatchID:6,Batch:"C2",CourseID:6},{BatchID:7,Batch:"B1",CourseID:7},{BatchID:8,Batch:"B2",CourseID:8},{BatchID:9,Batch:"JO1",CourseID:9},{BatchID:10,Batch:"JXI-1",CourseID:10},{BatchID:11,Batch:"JXI-2",CourseID:11},{BatchID:12,Batch:"JXII-1",CourseID:12},{BatchID:13,Batch:"JEXL",CourseID:13},{BatchID:14,Batch:"JEE Adv",CourseID:14}],n=[{LectureID:1,Lecture:"L1",Time_From:"08:30 AM",Time_To:"09:45 AM"},{LectureID:2,Lecture:"L2",Time_From:"09:50 AM",Time_To:"11:05 AM"},{LectureID:3,Lecture:"L3",Time_From:"11:20 AM",Time_To:"12:35 PM"},{LectureID:4,Lecture:"L4",Time_From:"12:40 PM",Time_To:"01:55 PM"},{LectureID:5,Lecture:"L5",Time_From:"02:00 PM",Time_To:"03:15 PM"},{LectureID:6,Lecture:"L6",Time_From:"03:20 PM",Time_To:"04:35 PM"},{LectureID:7,Lecture:"L7",Time_From:"04:50 PM",Time_To:"06:05 PM"},{LectureID:8,Lecture:"L8",Time_From:"06:15 PM",Time_To:"07:30 PM"}]},57:function(t,e,c){"use strict";c.r(e);var a=c(8),r=c(52),n=c(7),u=c(1),s=c(50),i=c(6);e.default=function(){console.log(",,bb",s.a);var t=Object(u.useState)(s.a),e=Object(n.a)(t,2),c=e[0],l=e[1],o=Object(u.useState)({}),h=Object(n.a)(o,2),j=h[0],b=h[1],d=Object(u.useState)({}),D=Object(n.a)(d,2),I=D[0],y=D[1],m=function(t){var e=t.target,c=e.name,n=e.checked;y(Object(r.a)(Object(r.a)({},I),{},Object(a.a)({},c,n)))},O=j.Object,f=(void 0===O?{}:O).Batch,F=void 0===f?[]:f;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Add New Batch"}),Object(i.jsx)("button",{onClick:function(){fetch("https://api.aayamcareerinstitute.co.in/api/GetMasterData",{method:"GET",redirect:"follow"}).then((function(t){return t.json()})).then((function(t){return b(t)})).catch((function(t){return console.log("error",t)}))},children:"call it"}),Object(i.jsx)("h2",{children:"Batch List with Checkboxes"}),Object(i.jsx)("ul",{style:{listStyle:"none"},children:F.map((function(t){return Object(i.jsx)("li",{children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",name:t.BatchID,checked:I[t.BatchID]||!1,onChange:m}),t.Batch]})},t.BatchID)}))}),Object(i.jsx)("button",{onClick:function(){var t=s.a,e=function(e){if(I[e]){var c=F.find((function(t){return t.BatchID===parseInt(e)}));c&&!t.find((function(t){return t.BatchID===c.BatchID}))&&t.push({BatchID:c.BatchID,Batch:c.Batch,CourseID:c.CourseID})}};for(var c in I)e(c);console.log(t),l(t)},children:"Add selected items to batch"}),Object(i.jsx)("h2",{children:"Updated Batch List"}),Object(i.jsx)("ul",{children:c.map((function(t){return Object(i.jsxs)("li",{children:[t.BatchID," - ",t.Batch," - ",t.CourseID]},t.BatchID)}))})]})}},71:function(t,e,c){},84:function(t,e,c){"use strict";c.r(e);var a=c(52),r=c(10),n=c(7),u=c(65),s=c.n(u),i=c(1),l=c(66),o=c(29),h=c(57),j=c(50),b=(c(71),c(6));e.default=function(){var t=["blue","green","yellow","white","red","pink"];Object(i.useEffect)((function(){var t=document.querySelector(".table-style");if(t){var e=t.offsetWidth;d(e)}}),[]);var e=Object(i.useState)(0),c=Object(n.a)(e,2),u=c[0],d=c[1],D=Object(i.useState)({}),I=Object(n.a)(D,2),y=I[0],m=I[1],O=Object(i.useState)([]),f=Object(n.a)(O,2),F=f[0],B=f[1],v=Object(i.useState)({}),x=Object(n.a)(v,2),L=x[0],C=x[1],S=Object(i.useState)({}),T=Object(n.a)(S,2),p=T[0],g=T[1],M=Object(i.useState)({}),_=Object(n.a)(M,2),N=_[0],P=_[1],A=Object(i.useState)(!1),k=Object(n.a)(A,2),J=k[0],w=k[1],E=Object(i.useState)(null),U=Object(n.a)(E,2),H=U[0],R=U[1],W=Object(i.useState)(null),X=Object(n.a)(W,2),K=X[0],G=X[1],Y=Object(i.useState)(null),q=Object(n.a)(Y,2),z=q[0],Q=q[1],V=Object(i.useRef)(null),Z=function(t){for(var e=t.target;e&&(!e.classList||!e.classList.contains("each-block"));)e=e.parentNode;if(e&&""!==e.innerText.trim())return!1;t.preventDefault()},$=function(t,e,c){var n=y;if(H){var u=H.lecture.LectureID+"_"+H.batch.BatchID;n=L[u],tt(H.lecture.LectureID,H.batch.BatchID,L[u].FacultyID)}var s,i=L,l=e.LectureID+"_"+c.BatchID;L[l]=n,C(Object(a.a)({},i)),function(t,e,c){var a=F,n={ID:"0",TimeTableID:"0",LectureName:""};n.Batch=e,n.Lecture=t,n.Subject=c.subject,n.FacultyID=c.FacultyID,n.IsActive=!0,n.CreatedByUserID="1",n.CreatedOnDate="02/05/2023",a.push(n),B(Object(r.a)(a))}(e,c,n),p[(s=n).FacultyID]?p[s.FacultyID]+=1:p[s.FacultyID]=1,function(t,e){var c=t+"_"+e,r=N;r[c]?r[c]+=1:r[c]=1,P(Object(a.a)({},r)),r[c]>1&&(w(!0),setTimeout((function(){w(!1)}),3e3))}(e.LectureID,n.FacultyID),m({}),R(null)},tt=function(t,e,c){var n=L;delete n[t+"_"+e],C(Object(a.a)({},n));var u=F,s=null===u||void 0===u?void 0:u.find((function(c){var a,r;return(null===(a=c.batch)||void 0===a?void 0:a.BatchID)===e&&(null===(r=c.lecture)||void 0===r?void 0:r.LectureID)===t}));s>=0&&(u.splice(s,1),B(Object(r.a)(u)));var i=p;i[c]-=1,i[c]<=0&&delete i[c],g(i)},et=function(t,e){if(!t||!e)return!1;var c=t+"_"+e;return console.log(c),N[c]>1};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"bg-container",children:[J?Object(b.jsx)(o.a,{color:"warning",children:"Two same teachers found in the same row"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("h1",{className:"heading-style",children:"CLASS SCHEDULE"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{ref:V,children:[Object(b.jsx)("table",{className:"table-style",children:Object(b.jsxs)("tbody",{children:[Object(b.jsx)("div",{className:"for-time",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"F-style time-style",children:"Time"}),j.a.map((function(t){return Object(b.jsx)("td",{className:"F-style batch-style",children:t.Batch},j.a.BatchID)}))]})}),Object(b.jsx)("tr",{children:j.c.map((function(t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("td",{className:"F-style time-style",children:[t.Time_From,"-",t.Time_To]}),j.a.map((function(e){var c,a,r,n,u,s=t.LectureID+"_"+e.BatchID;return Object(b.jsx)("td",{draggable:!0,onDragOver:Z,onDrop:function(c){return $(0,t,e)},onDragStart:function(c){R({lecture:t,batch:e})},id:s,className:"each-block ".concat(et(t.LectureID,null!==(c=null===(a=L[s])||void 0===a?void 0:a.FacultyID)&&void 0!==c?c:null)?"blink":""),children:Object(b.jsxs)("div",{className:"teacname-cross-style ".concat(null===(r=L[s])||void 0===r?void 0:r.className," "),children:[Object(b.jsx)("div",{className:"teacher-name",children:null===(n=L[s])||void 0===n?void 0:n.Faculty}),Object(b.jsx)("div",{className:"cross-btn-container",children:null!==(u=L[s])&&void 0!==u&&u.Faculty?Object(b.jsx)("button",{className:"cross-style",onClick:function(){return tt(t.LectureID,e.BatchID,L[s].FacultyID)},children:Object(b.jsx)(l.a,{})}):Object(b.jsx)(b.Fragment,{})})]})},s)}))]})}))})]})}),Object(b.jsx)("button",{onClick:function(){G(Object(b.jsx)(h.default,{}))},children:"+"}),K]}),Object(b.jsx)("button",{onClick:function(){s()(V.current).then((function(t){var e=t.toDataURL();Q(e)})).catch((function(t){console.error(t)}))},children:"Convert to Image"}),z&&Object(b.jsx)("img",{src:z,alt:"table",style:{maxWidth:u}}),Object(b.jsx)("button",{onClick:function(){var t=new Headers;t.append("Content-Type","application/json");var e=JSON.stringify({TimeTableID:0,Description:"time table save",DateType:"single",FromDate:"09/05/2023",ToDate:"12/05/2023",ShiftID:1,SessionID:5,Session:"string",BatchID:[1,6,10,7,8,9,2,3],LectureID:[1,2,3,4,5,6,7,8],IsActive:!0,CreatedByUserID:1,CreatedOnDate:"09/05/2023",LectureList:F});fetch("https://api.aayamcareerinstitute.co.in/api/AddUpdateTimeTable",{method:"POST",headers:t,body:e,redirect:"follow"}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))},children:"Save"})]}),Object(b.jsxs)("div",{className:"teacher-container",style:{maxWidth:u},children:[j.b.map((function(e,c){var a=e.FacultyID,r=e.Faculty;return Object(b.jsxs)("div",{style:{maxWidth:u,backgroundColor:t[a]},className:"teacher-item",draggable:!0,onDragStart:function(t){m(e)},children:[Object(b.jsx)("h3",{children:r}),p[a]>0&&Object(b.jsx)("span",{className:"counter-item ",draggable:!1,children:p[a]})]},a)})),Object(b.jsx)("button",{onClick:function(){alert("add")},children:"+"})]})]})})}}}]);
//# sourceMappingURL=9.8e49a50a.chunk.js.map