(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[11],{50:function(t,e,c){"use strict";c.d(e,"b",(function(){return a})),c.d(e,"a",(function(){return r})),c.d(e,"c",(function(){return s}));c(53);var a=[{FacultyID:1,Faculty:"MYK",subject:"Physics"},{FacultyID:2,Faculty:"KPS",subject:"Chemistry"},{FacultyID:3,Faculty:"MRS",subject:"Chemistry"},{FacultyID:4,Faculty:"MAS",subject:"Physics"},{FacultyID:5,Faculty:"RSS",subject:"Physics"},{FacultyID:6,Faculty:"NMS",subject:"Biology"},{FacultyID:7,Faculty:"HDS",subject:"Chemistry"},{FacultyID:8,Faculty:"MNM",subject:"Biology"},{FacultyID:9,Faculty:"SJ",subject:"Biology"},{FacultyID:10,Faculty:"AJ",subject:"Biology"},{FacultyID:11,Faculty:"DMPS",subject:"Chemistry"},{FacultyID:12,Faculty:"PSJ",subject:"Physics"},{FacultyID:13,Faculty:"YBS",subject:"Biology"},{FacultyID:14,Faculty:"AKS",subject:"Chemistry"},{FacultyID:15,Faculty:"AMS",subject:"Maths"},{FacultyID:16,Faculty:"NDS",subject:"Physics"},{FacultyID:17,Faculty:"HWS",subject:"Physics"},{FacultyID:18,Faculty:"JRS",subject:"Chemistry"},{FacultyID:19,Faculty:"HTS",subject:"Chemistry"}],r=[{BatchID:1,Batch:"A1",CourseID:1},{BatchID:2,Batch:"A2",CourseID:2},{BatchID:3,Batch:"A3",CourseID:3},{BatchID:4,Batch:"A4",CourseID:4},{BatchID:5,Batch:"C1",CourseID:5},{BatchID:6,Batch:"C2",CourseID:6},{BatchID:7,Batch:"B1",CourseID:7},{BatchID:8,Batch:"B2",CourseID:8},{BatchID:9,Batch:"JO1",CourseID:9},{BatchID:10,Batch:"JXI-1",CourseID:10},{BatchID:11,Batch:"JXI-2",CourseID:11},{BatchID:12,Batch:"JXII-1",CourseID:12},{BatchID:13,Batch:"JEXL",CourseID:13},{BatchID:14,Batch:"JEE Adv",CourseID:14}],s=[{LectureID:1,Lecture:"L1",Time_From:"08:30 AM",Time_To:"09:45 AM"},{LectureID:2,Lecture:"L2",Time_From:"09:50 AM",Time_To:"11:05 AM"},{LectureID:3,Lecture:"L3",Time_From:"11:20 AM",Time_To:"12:35 PM"},{LectureID:4,Lecture:"L4",Time_From:"12:40 PM",Time_To:"01:55 PM"},{LectureID:5,Lecture:"L5",Time_From:"02:00 PM",Time_To:"03:15 PM"},{LectureID:6,Lecture:"L6",Time_From:"03:20 PM",Time_To:"04:35 PM"},{LectureID:7,Lecture:"L7",Time_From:"04:50 PM",Time_To:"06:05 PM"},{LectureID:8,Lecture:"L8",Time_From:"06:15 PM",Time_To:"07:30 PM"}]},75:function(t,e,c){},86:function(t,e,c){"use strict";c.r(e);var a=c(8),r=c(52),s=c(7),u=c(1),n=c(50),i=c(66),l=(c(75),c(65)),o=c.n(l),h=c(6);e.default=function(){var t=Object(u.useState)({}),e=Object(s.a)(t,2),c=e[0],l=e[1],j=Object(u.useState)(0),b=Object(s.a)(j,2),y=b[0],m=b[1],d=Object(u.useState)(null),D=Object(s.a)(d,2),O=D[0],f=D[1],I=Object(u.useState)({}),F=Object(s.a)(I,2),v=F[0],B=F[1],S=Object(u.useState)(!1),g=Object(s.a)(S,2),C=g[0],L=g[1],T=Object(u.useState)({}),x=Object(s.a)(T,2),M=(x[0],x[1]),N=Object(u.useState)({}),p=Object(s.a)(N,2),P=p[0],_=p[1],A=Object(u.useState)({}),J=Object(s.a)(A,2),k=J[0],E=J[1],R=Object(u.useState)(null),W=Object(s.a)(R,2),w=W[0],H=W[1];Object(u.useEffect)((function(){K()}),[]),Object(u.useEffect)((function(){console.log("Saving teacherAssignment:",k),console.log("Saving teacherCounter:",P);var t=localStorage.getItem("teacherAssignment"),e=t?JSON.parse(t):{};E(e),console.log(k)}),[]);var X=Object(u.useRef)(null),K=function(){fetch("https://api.aayamcareerinstitute.co.in/api/GetMasterData",{method:"GET",redirect:"follow"}).then((function(t){return t.json()})).then((function(t){return l(t)})).catch((function(t){return console.log("error",t)}))},G=c.Object,U=void 0===G?{}:G,Y=U.Batch,q=void 0===Y?[]:Y,z=U.FacultyList,Q=void 0===z?[]:z,V=Object(u.useRef)();Object(u.useEffect)((function(){var t=document.querySelector(".table-style");if(t){var e=t.offsetWidth;m(e)}}),[]),Object(u.useEffect)((function(){C&&(alert("Two same teachers found in the same row"),L(!1),setTimeout((function(){B({})}),3e3))}),[C]);var Z=function(t,e){if(O){var c,s=k[O],u=k[e];E(Object(r.a)(Object(r.a)({},k),{},(c={},Object(a.a)(c,O,u),Object(a.a)(c,e,s),c))),f(null)}else{var n=Object(r.a)({},k);n[e]=V.current,E(n),M({});var i=Object(r.a)({},P);i[V.current.teacher]?i[V.current.teacher]+=1:i[V.current.teacher]=1,_(i),function(t){var e=t.split("_")[0],c=[];for(var a in k)a.startsWith(e)&&c.push({key:a,teacher:k[a].teacher});var r=c.reduce((function(t,e){return t[e.teacher]?t[e.teacher].push(e.key):t[e.teacher]=[e.key],t}),{}),s=Object.values(r).filter((function(t){return t.length>1})).flat();!Object.keys(v).includes(t)&&s.includes(t)&&(L(!0),B(s.reduce((function(t,e){return t[e]=!0,t}),{})))}(e)}};Object(u.useEffect)((function(){C&&L(!1)}),[C]);var $=function(t){for(var e=t.target;e&&(!e.classList||!e.classList.contains("each-block"));)e=e.parentNode;if(e&&""!==e.innerText.trim())return!1;t.preventDefault()};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:K,children:"Call"}),Object(h.jsxs)("div",{className:"bg-container",children:[Object(h.jsx)("h1",{className:"heading-style",children:"CLASS SCHEDULE"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{ref:X,children:Object(h.jsx)("table",{className:"table-style",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"F-style time-style",children:"Time"}),q.map((function(t){return Object(h.jsx)("td",{className:"F-style batch-style",children:t.Batch},t.BatchID)}))]}),n.c.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"F-style time-style",children:t.classtime}),q.map((function(e){var c,a,s,u,n=t.id+"_"+e.id;return Object(h.jsx)("td",{draggable:!0,onDragOver:$,onDrop:function(t){return Z(0,n)},onDragStart:function(t){return k[n]&&function(t,e){f(e)}(0,n)},id:n,className:"each-block ".concat(v[n]?"blink":""," ").concat(null===(c=k[n])||void 0===c?void 0:c.className),children:k[n]&&Object(h.jsxs)("div",{className:"teacname-cross-style ".concat(null===(a=k[n])||void 0===a?void 0:a.className," "),children:[Object(h.jsx)("div",{className:"teacher-name",children:null===(s=k[n])||void 0===s?void 0:s.teacher}),Object(h.jsx)("div",{className:"cross-btn-container",children:null!==(u=k[n])&&void 0!==u&&u.teacher?Object(h.jsx)("button",{className:"cross-style",onClick:function(){return function(t){var e=Object(r.a)({},k),c=Object(r.a)({},P);c[k[t].teacher]&&(c[k[t].teacher]-=1),delete e[t],E(e),M({}),_(c)}(n)},children:Object(h.jsx)(i.a,{})}):""})]})},n)}))]})}))]})})}),Object(h.jsx)("button",{onClick:function(){o()(X.current).then((function(t){var e=t.toDataURL();H(e)})).catch((function(t){console.error(t)}))},children:"Convert to Image"}),w&&Object(h.jsx)("img",{src:w,alt:"table",style:{maxWidth:y}})]}),Object(h.jsx)("div",{className:"teacher-container",style:{maxWidth:y},children:Q.map((function(t,e){var c=t.name,a=t.bgColor,r=t.className;return Object(h.jsxs)("div",{style:{maxWidth:y},className:"teacher-item  ".concat(a," ").concat(r),draggable:!0,onDragStart:function(t){return e={teacher:c,className:a},void(V.current=e);var e},children:[Object(h.jsx)("h3",{children:t.Faculty}),P[c]>0&&Object(h.jsx)("span",{className:"counter-item ".concat(a),draggable:!1,children:P[c]})]},c)}))})]})]})}}}]);
//# sourceMappingURL=11.e4014a76.chunk.js.map