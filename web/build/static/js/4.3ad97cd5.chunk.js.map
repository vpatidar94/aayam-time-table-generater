{"version":3,"sources":["pages/TTPages/List/List.js","service/GlobalEmitterService.js","const/url.js","pages/TTPages/TeacherForm/TeacherForm.js","api/tt.api.js","pages/TTPages/AddBatch/AddBatch.js","api/upload.api.js","const/color.const.js","pages/TTPages/CloneTimeTable/CloneTimeTable.js"],"names":["teachers_list","FacultyID","Faculty","subject","batch","BatchID","Batch","CourseID","time","LectureID","Lecture","Time_From","Time_To","GlobalEmitterService","emit","status","event","CustomEvent","detail","window","dispatchEvent","BASE_URL","URL","UPLOAD_FILE","GET_UPLOAD_FILE_URL","GET_SAVE_TIMETABLE_URL","GET_ALL_TT","GET_EDIT_TT","REMOVE_TT","AddTeacher","_ref","showModal","setShowModal","teacherList","useEffect","async","response","fetch","result","json","setApiData","error","fetchApiData","faculties","setFaculties","useState","apiData","checkedItems","setCheckedItems","showAlert","setShowAlert","timeOfAlert","setTimeOfAlert","Object","responseObject","FacultyList","UserList","facultyNameMap","forEach","user","UserID","UserName","handleCheckboxChange","name","checked","target","updatedFacultyList","map","faculty","closeModal","_jsx","children","_jsxs","Modal","isOpen","toggle","centered","ModalHeader","ModalBody","className","style","maxHeight","overflowY","maxWidth","listStyle","bgColor","facultyUser","find","facultyName","type","onChange","ModalFooter","Button","color","onClick","addToFaculty","newTeachersList","facultyID","selectedItem","parseInt","some","teacher","push","UncontrolledAlert","fade","setTimeout","TtApi","constructor","getTtList","res","method","e","Error","message","options","getEditTt","myHeaders","Headers","append","headers","body","JSON","stringify","FromDate","fromDateEdit","replaceAll","addUpdateTt","ttRequestBody","removeTtById","timeTableID","AddBatch","batchList","batches","setBatches","addToBatch","newBatches","batchID","UploadApi","getWattsappApi","url","cell","fileName","URLSearchParams","number","media_url","filename","instance_id","access_token","getWattsappGroupApiTeachers","group_id","getWattsappGroupApiOthers","uplaodFile","formData","FormData","file","getUploadedFile","COLORS","CloneTimeTable","timeTableId","useParams","appenColorTOTeacherList","getEditTimeTable","tt","setTt","draggedTeacher","setDraggedTeacher","lectureList","setLectureList","teacherAssignment","setTeacherAssignment","teacherCounter","setTeacherCounter","lectureTeacherCounter","setLectureTeacherCounter","duplicateTeacherDetectedInRow","setDuplicateTeacherDetectedInRow","draggedCellKey","setDraggedCellKey","showAddBatchModal","setShowAddBatchModal","showAddTeacherModal","setShowAddTeacherModal","fromDate","setFromDate","toDate","setToDate","setBatchList","setTeacherList","loaded","setLoaded","numberList","setNumberList","divRef","useRef","stateTeacherList","i","IsSuccessful","ToDate","setBatchAndTimeList","LectureList","initTimeTable","_result$Object$Lectur","stateTeacherAssignment","_result$Object$Lectur2","length","lec","_lec$Batch","_lec$Lecture","LectureName","_result$Object","_result$Object$BatchI","_lec$Batch2","_result$Object2","_result$Object2$Lectu","lecture","t","_lec$Lecture2","indexOf","_lec$Batch3","key","updateLectureListOnDrop","checkDuplicateTeacherInRowOnDrop","initTeacherCounter","keys","teacherId","split","_tt$Batch","stateBatchList","filter","it","_tt$BatchID","allowDrop","ev","classList","contains","parentNode","innerText","trim","preventDefault","stateLectureList","lectureDto","Subject","IsActive","CreatedByUserID","CreatedOnDate","lectureId","stateLectureTeacherCounter","handleDrop","selectedTeacher","keyInside","removeTeacher","updateTeacherCounterOnDrop","stateTeacherCounter","batchId","index","findIndex","row","_row$Batch","_row$Lecture","splice","lectureTeacherKey","keyLtId","isTeacherDuplicateInLecture","formatDate","date","dateParts","concat","convertToImage","current","width","imgData","html2canvas","toDataURL","byteString","atob","mimeString","ia","Uint8Array","charCodeAt","blob","Blob","imageName","generateUID","firstPart","Math","random","secondPart","toString","slice","File","_data$Object","data","fileDetail","reverse","obj","_obj$Title","Title","LongURL","formateDateWithslash","parts","onAddBatch","onAddTeacher","saveTable","sentBatchID","item","TimeTableID","console","log","Description","DateType","ShiftID","SessionID","Session","Date","_result$ExceptionMess","ExceptionMessage","clearAll","_Fragment","Row","Col","Alert","Form","Input","id","defaultValue","value","onChangeFromDate","onChangeToDate","disabled","ButtonGroup","UncontrolledDropdown","DropdownToggle","caret","DropdownMenu","DropdownItem","divider","ref","confirm","updatedBatches","each","onDeleteBatch","RxCross2","b","_teacherAssignment$ke","_teacherAssignment$ke2","_teacherAssignment$ke3","_teacherAssignment$ke4","_teacherAssignment$ke5","_teacherAssignment$ke6","_teacherAssignment$ke7","draggable","onDragOver","onDrop","onDragStart","backgroundColor","onDragEnd","Badge","updatedTeachers","onDeleteTeacher"],"mappings":"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","file":"static/js/4.3ad97cd5.chunk.js","sourcesContent":["import {v4 as uuidv4} from \"uuid\"\r\nexport const teachers_list = [\r\n        {\r\n            FacultyID: 22,\r\n            Faculty: \"MYK\",\r\n            subject: \"Physics\"\r\n        },\r\n        \r\n        {\r\n            FacultyID: 3038,\r\n            Faculty: \"KPS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n\r\n        // {\r\n        //     FacultyID: 2029,\r\n        //     Faculty: \"MRS\",\r\n        //     subject:\"Chemistry\"\r\n        // },\r\n\r\n        {\r\n            FacultyID: 3051,\r\n            Faculty: \"MAS\",\r\n            subject:\"Physics\"\r\n        },\r\n\r\n        {\r\n            FacultyID: 3050,\r\n            Faculty: \"RSS\",\r\n            subject:\"Physics\"\r\n        },\r\n        {\r\n            FacultyID: 25,\r\n            Faculty: \"NMS\",\r\n            subject:\"Biology\"\r\n        },\r\n        {\r\n            FacultyID: 3037,\r\n            Faculty: \"HDS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n        {\r\n            FacultyID: 3032,\r\n            Faculty: \"MNM\",\r\n            subject: \"Biology\"\r\n        },\r\n        \r\n        {\r\n            FacultyID: 1023,\r\n            Faculty: \"SJ\",\r\n            subject:\"Biology\"\r\n        },\r\n\r\n        {\r\n            FacultyID: 1025,\r\n            Faculty: \"AJ\",\r\n            subject:\"Biology\"\r\n        },\r\n\r\n        {\r\n            FacultyID: 1026,\r\n            Faculty: \"DMPS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n\r\n        \r\n       \r\n        \r\n        {\r\n            FacultyID: 1027,\r\n            Faculty: \"PSJ\",\r\n            subject:\"Physics\"\r\n        },\r\n        {\r\n            FacultyID: 3033,\r\n            Faculty: \"YBS\",\r\n            subject:\"Biology\"\r\n        },\r\n        {\r\n            FacultyID: 3030,\r\n            Faculty: \"AKS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n        {\r\n            FacultyID: 2028,\r\n            Faculty: \"AMS\",\r\n            subject:\"Maths\"\r\n        },\r\n        {\r\n            FacultyID: 3031,\r\n            Faculty: \"NDS\",\r\n            subject:\"Physics\"\r\n        },\r\n        {\r\n            FacultyID: 3052,\r\n            Faculty: \"HWS\",\r\n            subject:\"Physics\"\r\n        },\r\n        {\r\n            FacultyID: 1029,\r\n            Faculty: \"JRS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n        {\r\n            FacultyID: 3053,\r\n            Faculty: \"HTS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n        {\r\n            FacultyID: 3054,\r\n            Faculty: \"NPS\",\r\n            subject:\"Chemistry\"\r\n        },\r\n        {\r\n            FacultyID: 3059,\r\n            Faculty: \"SKS\",\r\n            subject:\"Biology\"\r\n        },\r\n        // newly added faculty on 12/08/23\r\n        {\r\n            FacultyID: 3056,\r\n            Faculty: \"AMK\",\r\n            subject: \"Biology\"\r\n        },\r\n        {\r\n            FacultyID: 3058,\r\n            Faculty: \"DPS\",\r\n            subject: \"Chemistry\"\r\n        }\r\n        \r\n\r\n    ]; \r\n    \r\n\r\nexport const batch= [\r\n    {\r\n        BatchID: 1,\r\n        Batch: \"A1\",\r\n        CourseID: 3\r\n    },\r\n    {\r\n        BatchID: 2,\r\n        Batch: \"B1\",\r\n        CourseID: 2\r\n    },\r\n    {\r\n        BatchID: 3,\r\n        Batch: \"C1\",\r\n        CourseID: 1\r\n    },\r\n    {\r\n        BatchID: 6,\r\n        Batch: \"A2\",\r\n        CourseID: 3\r\n    },\r\n    \r\n    {\r\n        BatchID: 7,\r\n        Batch: \"A4\",\r\n        CourseID: 3\r\n    },\r\n    {\r\n        BatchID: 10,\r\n        Batch: \"A3\",\r\n        CourseID: 3\r\n    },\r\n    \r\n    {\r\n        BatchID: 15,\r\n        Batch: \"C2\",\r\n        CourseID: 1\r\n    },\r\n    \r\n    \r\n    //MORE BATCHES ADDED WITH A FAKE BATCHID AND FAKE COURSEID NEED TO CHANGE LATER\r\n\r\n    {\r\n        BatchID: 20,\r\n        Batch: \"JO1\",\r\n        CourseID: 13\r\n    },\r\n    {\r\n        BatchID: 22,\r\n        Batch: \"JXII-1\",\r\n        CourseID: 12\r\n    },\r\n    {\r\n        BatchID: 3042,\r\n        Batch: \"JXI-1\",\r\n        CourseID: 11\r\n    },\r\n    {\r\n        BatchID: 3049,\r\n        Batch: \"B2\",\r\n        CourseID: 2\r\n    },\r\n    {\r\n        BatchID: 3061,\r\n        Batch: \"JXI-2\",\r\n        CourseID: 11\r\n    },\r\n    {\r\n        BatchID: 3078,\r\n        Batch: \"JEE adv\",\r\n        CourseID: 13\r\n    },\r\n    \r\n    {\r\n        BatchID: 3079,\r\n        Batch: \"JEE XL\",\r\n        CourseID: 1025\r\n    }\r\n    \r\n]\r\n\r\n\r\nexport const time= [\r\n    {\r\n        LectureID: 1,\r\n        Lecture: \"L1\",\r\n        Time_From: \"08:30 AM\",\r\n        Time_To: \"09:45 AM\"\r\n    },\r\n    {\r\n        LectureID: 2,\r\n        Lecture: \"L2\",\r\n        Time_From: \"09:50 AM\",\r\n        Time_To: \"11:05 AM\"\r\n    },\r\n    {\r\n        LectureID: 3,\r\n        Lecture: \"L3\",\r\n        Time_From: \"11:20 AM\",\r\n        Time_To: \"12:35 PM\"\r\n    },\r\n    {\r\n        LectureID: 4,\r\n        Lecture: \"L4\",\r\n        Time_From: \"12:40 PM\",\r\n        Time_To: \"01:55 PM\"\r\n    },\r\n    {\r\n        LectureID: 5,\r\n        Lecture: \"L5\",\r\n        Time_From: \"02:00 PM\",\r\n        Time_To: \"03:15 PM\"\r\n    },\r\n    {\r\n        LectureID: 6,\r\n        Lecture: \"L6\",\r\n        Time_From: \"03:20 PM\",\r\n        Time_To: \"04:35 PM\"\r\n    },\r\n    {\r\n        LectureID: 7,\r\n        Lecture: \"L7\",\r\n        Time_From: \"04:50 PM\",\r\n        Time_To: \"06:05 PM\"\r\n    },\r\n    {\r\n        LectureID: 8,\r\n        Lecture: \"L8\",\r\n        Time_From: \"06:15 PM\",\r\n        Time_To: \"07:30 PM\"\r\n    }\r\n]\r\n","export default class GlobalEmitterService {\r\n    static emit = (status) => {\r\n        const event = new CustomEvent('spinner-load', { detail: status });\r\n        window.dispatchEvent(event);\r\n    }\r\n\r\n    // static loggedInEmitter = (loggedIn) => {\r\n    //     const event = new CustomEvent('auth-changed', { detail: loggedIn });\r\n    //     window.dispatchEvent(event);\r\n    // }\r\n}","const ENV_URL = 'https://api.aayamcareerinstitute.co.in/api'; // producation fn\r\nconst DEV_URL = 'http://localhost:5001'; // producation fn\r\nconst BASE_URL= ENV_URL\r\n\r\n\r\n\r\nexport const URL = {\r\n    UPLOAD_FILE: BASE_URL + '/UploadFilesAttachment',\r\n    GET_UPLOAD_FILE_URL: BASE_URL + '/GetFiles', \r\n    GET_SAVE_TIMETABLE_URL: BASE_URL+ '/AddUpdateTimeTable',\r\n    GET_ALL_TT: BASE_URL + '/GetTimeTable', \r\n\r\n    GET_EDIT_TT: BASE_URL + '/GetTimeTableByDate',\r\n    REMOVE_TT: BASE_URL + '/DeleteTimeTable',\r\n\r\n\r\n\r\n\r\n};  \r\n","import React, { useState, useEffect } from 'react';\r\nimport { batch } from '../List/List';\r\nimport { teachers_list } from '../List/List';\r\n// import { teachers_list } from '../../../const/teacherList';\r\n// import { batch } from '../../../const/batchList';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, UncontrolledAlert } from 'reactstrap';\r\nimport \"./TeacherForm.css\";\r\n\r\nconst AddTeacher = ({ showModal, setShowModal, teacherList }) => {\r\n\r\n  /************************************Use Effect****************************************** */\r\n  useEffect(() => {\r\n    if (showModal) {\r\n      const fetchApiData = async () => {\r\n        try {\r\n          const response = await fetch(\"https://api.aayamcareerinstitute.co.in/api/GetMasterData\");\r\n          const result = await response.json();\r\n          setApiData(result);\r\n        } catch (error) {\r\n        }\r\n      };\r\n\r\n      fetchApiData();\r\n    }\r\n  }, [showModal]);\r\n\r\n  /***********************Use State***************************************************** */\r\n  const [faculties, setFaculties] = useState(teacherList);\r\n  // const [batches, setBatches] = useState(JSON.parse(localStorage.getItem('batches')) || batch);\r\n  const [apiData, setApiData] = useState({});\r\n  const [checkedItems, setCheckedItems] = useState({});\r\n  const [showAlert, setShowAlert] = useState(\"\");\r\n  const [timeOfAlert, setTimeOfAlert] = useState(false);\r\n\r\n  /*************************other consts*************************************************** */\r\n  const { Object: responseObject = {} } = apiData;\r\n  const { Batch = [], FacultyList = [], UserList = [] } = responseObject;\r\n  const facultyNameMap = {};\r\n\r\n  UserList.forEach((user) => {\r\n    facultyNameMap[user.UserID] = user.UserName;\r\n  });\r\n  /****************************************methods******************************************* */\r\n  const handleCheckboxChange = (event) => {\r\n    const { name, checked } = event.target;\r\n    setCheckedItems({\r\n      ...checkedItems,\r\n      [name]: checked,\r\n    });\r\n  };\r\n\r\n  const updatedFacultyList = FacultyList.map((faculty) => ({\r\n    ...faculty,\r\n    Faculty: facultyNameMap[faculty.FacultyID] || faculty.Faculty,\r\n  }));\r\n\r\n  const addToFaculty = () => {\r\n    const newTeachersList = teacherList;\r\n\r\n    for (const facultyID in checkedItems) {\r\n      if (checkedItems[facultyID]) {\r\n        const selectedItem = updatedFacultyList.find(\r\n          (faculty) => faculty.FacultyID === parseInt(facultyID)\r\n        );\r\n\r\n        if (selectedItem) {\r\n          const facultyUser = UserList.find(\r\n            (user) => user.UserID === selectedItem.FacultyID\r\n          );\r\n          const facultyName = facultyUser ? facultyUser.UserName : selectedItem.Faculty;\r\n\r\n          const isTeacherAlreadyAdded = newTeachersList.some(\r\n            (teacher) => teacher.FacultyID === selectedItem.FacultyID\r\n          );\r\n\r\n          if (!isTeacherAlreadyAdded) {\r\n            newTeachersList.push({\r\n              FacultyID: selectedItem.FacultyID,\r\n              Faculty: facultyName,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    setFaculties(newTeachersList);\r\n    if (!timeOfAlert) {\r\n      setShowAlert(<UncontrolledAlert color=\"success\" fade={false}>\r\n        Teachers added successfully\r\n      </UncontrolledAlert>);\r\n      setTimeout(() => {\r\n        setTimeOfAlert(false);\r\n        setShowAlert(\"\");\r\n      }, 3000);\r\n    };\r\n    closeModal();\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  /**********************************************Template to return******************************** */\r\n  return (\r\n    <div>\r\n      <Modal isOpen={showModal} toggle={closeModal} centered={true}>\r\n        <ModalHeader toggle={closeModal}>Select Teachers from the list</ModalHeader>\r\n        <ModalBody>\r\n          {showAlert}\r\n          <div className=\"batch-list-container\" style={{ maxHeight: '300px', overflowY: 'scroll', maxWidth: '300px' }}>\r\n            <ul className=\"batch-list\" style={{ listStyle: 'none' }}>\r\n              {updatedFacultyList.map((faculty) => {\r\n                const { FacultyID, bgColor, className } = faculty;\r\n                const facultyUser = UserList.find((user) => user.UserID === FacultyID);\r\n                const facultyName = facultyUser ? facultyUser.UserName : faculty.Faculty;\r\n                return (\r\n                  <li key={faculty.FacultyID}>\r\n                    <div className=\"add-faculty-style\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        name={faculty.FacultyID}\r\n                        checked={checkedItems[faculty.FacultyID] || false}\r\n                        onChange={handleCheckboxChange}\r\n                        className=\"addfaculty-checkbox-style\"\r\n                      />\r\n                      {facultyName}\r\n                    </div>\r\n                  </li>\r\n                )\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={addToFaculty}>Add</Button>{' '}\r\n          <Button color=\"secondary\" onClick={closeModal}>Close</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\nexport default AddTeacher;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import GlobalEmitterService from '../service/GlobalEmitterService';\r\nimport { URL } from '../const/url';\r\n\r\nexport default class TtApi {\r\n    getTtList = async () => {\r\n        try {\r\n            GlobalEmitterService.emit(true);           // GlobalEmitterService.emit is made true for adding spinner untill api is completed\r\n            const res = await fetch(URL.GET_ALL_TT, {\r\n                method: 'GET',\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    getEditTt = async (fromDateEdit) => {\r\n        try {\r\n            // const formData = new FormData();\r\n            // formData.append('file', file, file.name);\r\n            GlobalEmitterService.emit(true);\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const res = await fetch(URL.GET_EDIT_TT, {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                body: JSON.stringify({\r\n                    FromDate: fromDateEdit.replaceAll(\"-\", \"/\"),\r\n                })\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n\r\n    addUpdateTt = async (ttRequestBody) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const res = await fetch(URL.GET_SAVE_TIMETABLE_URL, {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                body: JSON.stringify(ttRequestBody)\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    removeTtById = async (timeTableID) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            // const formData = new FormData();\r\n            // formData.append('file', file, file.name);\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const res = await fetch(URL.REMOVE_TT, {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                body: timeTableID\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n}","\r\nimport React, { useState, useEffect } from 'react';\r\nimport { batch } from '../List/List';\r\n// import { batch } from '../../../const/batchList';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, UncontrolledAlert } from 'reactstrap';\r\nimport \"./AddBatch.css\"\r\n\r\nconst AddBatch = ({ showModal, setShowModal, batchList }) => {\r\n  /******************************************Use Effect********************************************** */\r\n  useEffect(() => {\r\n    if (showModal) {\r\n      const fetchApiData = async () => {\r\n        try {\r\n          const response = await fetch(\"https://api.aayamcareerinstitute.co.in/api/GetMasterData\");\r\n          const result = await response.json();\r\n          setApiData(result);\r\n        } catch (error) {\r\n        }\r\n      };\r\n      fetchApiData();\r\n    }\r\n  }, [showModal]);\r\n  /********************************************Use State****************************************** */\r\n  const [batches, setBatches] = useState(batchList);\r\n  const [apiData, setApiData] = useState({});\r\n  const [checkedItems, setCheckedItems] = useState({});\r\n  const [showAlert, setShowAlert] = useState(\"\");\r\n  const [timeOfAlert, setTimeOfAlert] = useState(false);\r\n\r\n\r\n  /*****************************Other consts******************************************************** */\r\n  const { Object: responseObject = {} } = apiData;\r\n  const { Batch = [] } = responseObject;\r\n\r\n  /***************************************Methods*************************************************** */\r\n  const handleCheckboxChange = (event) => {\r\n    const { name, checked } = event.target;\r\n    setCheckedItems({\r\n      ...checkedItems,\r\n      [name]: checked,\r\n    });\r\n  };\r\n\r\n  const addToBatch = () => {\r\n    const newBatches = batchList;\r\n    for (const batchID in checkedItems) {\r\n      if (checkedItems[batchID]) {\r\n        const selectedItem = Batch.find((batch) => batch.BatchID === parseInt(batchID));\r\n        if (selectedItem && !newBatches.find((batch) => batch.BatchID === selectedItem.BatchID)) {\r\n          newBatches.push({\r\n            BatchID: selectedItem.BatchID,\r\n            Batch: selectedItem.Batch,\r\n            CourseID: selectedItem.CourseID,\r\n          });\r\n        }\r\n      }\r\n    }\r\n    setBatches(newBatches);\r\n    if (!timeOfAlert) {\r\n      setShowAlert(<UncontrolledAlert color=\"success\" fade={false}>\r\n        Batches added successfully\r\n      </UncontrolledAlert>);\r\n\r\n      setTimeout(() => {\r\n        setTimeOfAlert(false);\r\n        setShowAlert(\"\");\r\n      }, 3000);\r\n\r\n    };\r\n    closeModal();\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  /***************************Template to return******************************************************* */\r\n  return (\r\n    <div>\r\n      <Modal centered={true} isOpen={showModal} toggle={closeModal}>\r\n        <ModalHeader toggle={closeModal}>Select Batches from the list</ModalHeader>\r\n        <ModalBody>\r\n          {showAlert}\r\n          <div className=\"batch-list-container\" style={{ maxHeight: '300px', overflowY: 'scroll', maxWidth: '300px' }}>\r\n            <ul className=\"batch-list\" style={{ listStyle: 'none' }}>\r\n              {Batch.map((batch) => (\r\n                <li key={batch.BatchID}>\r\n                  <div className=\"add-batch-style\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      name={batch.BatchID}\r\n                      checked={checkedItems[batch.BatchID] || false}\r\n                      onChange={handleCheckboxChange}\r\n                      className=\"addbatch-checkbox-style\"\r\n                    />\r\n                    {batch.Batch}\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={addToBatch}>Add</Button>{' '}\r\n          <Button color=\"secondary\" onClick={closeModal}>Close</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\nexport default AddBatch;\r\n\r\n","import GlobalEmitterService from '../service/GlobalEmitterService';\r\nimport { URL } from '../const/url';\r\n\r\nexport default class UploadApi {\r\n    // getUserWalletBalance = async (userId) => {\r\n    //     try {\r\n    //         GlobalEmitterService.emit(true);\r\n    //         const token = `Bearer ${AuthService.getToken()}`;\r\n    //         const res = await fetch(URL.USER_WALLET_BALANCE + '?' + new URLSearchParams({\r\n    //             userId\r\n    //         }), {\r\n    //             method: 'GET',\r\n    //             headers: { 'Content-Type': 'application/json', 'Authorization': token },\r\n    //         });\r\n    //         const result = await res.json();\r\n    //         GlobalEmitterService.emit(false);\r\n    //         return result;\r\n    //     } catch (e) {\r\n    //         GlobalEmitterService.emit(false);\r\n    //         throw new Error(e.message, e.options);\r\n    //     }\r\n    // }\r\n\r\n\r\n    getWattsappApi = async (url, message, cell, fileName) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            //  https://ziper.io/api/send.php?number=917898118503&type=media&message=test%20message&media_url=https://api.aayamcareerinstitute.co.in//Uploads/Files/File_3431223213168.pdf&filename=file_test.jpg&instance_id=647B3C9AA8D0A&access_token=0a3e27126c2c239bdf7f9128943ef9c0\r\n            const res = await fetch(\"https://ziper.io/api/send.php\" + '?' + new URLSearchParams({\r\n                number: cell,\r\n                type: \"media\",\r\n                message: message,\r\n                media_url: \"https://api.aayamcareerinstitute.co.in/\" + url,\r\n                filename: fileName,\r\n                instance_id: \"647B3C9AA8D0A\",\r\n                access_token: \"0a3e27126c2c239bdf7f9128943ef9c0\"\r\n            }), {\r\n                method: 'GET',\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n\r\n    getWattsappGroupApiTeachers = async (url, message, fileName) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            //https://ziper.io/api/sendgroupmsg.php?group_id=84987694574-1618740914@g.us&type=media&message=test%20message&media_url=https://i.pravatar.cc&filename=file_test.jpg&instance_id=6453479F141A2&access_token=0a3e27126c2c239bdf7f9128943ef9c0\r\n            const res = await fetch(\"https://ziper.io/api/sendgroupmsg.php\" + '?' + new URLSearchParams({\r\n                // group_id: \"919977116612-1595572006@g.us\",\r\n                group_id: \"919977116612-1595572006@g.us\",\r\n                type: \"media\",\r\n                message: message,\r\n                media_url: \"https://api.aayamcareerinstitute.co.in/\" + url,\r\n                filename: fileName,\r\n                instance_id: \"647B3C9AA8D0A\",\r\n                access_token: \"0a3e27126c2c239bdf7f9128943ef9c0\"\r\n            }), {\r\n                method: 'GET',\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    getWattsappGroupApiOthers = async (url, message, fileName) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            //https://ziper.io/api/sendgroupmsg.php?group_id=84987694574-1618740914@g.us&type=media&message=test%20message&media_url=https://i.pravatar.cc&filename=file_test.jpg&instance_id=6453479F141A2&access_token=0a3e27126c2c239bdf7f9128943ef9c0\r\n            const res = await fetch(\"https://ziper.io/api/sendgroupmsg.php\" + '?' + new URLSearchParams({\r\n                group_id: \"919826362001-1628170376@g.us\",\r\n                type: \"media\",\r\n                message: message,\r\n                media_url: \"https://api.aayamcareerinstitute.co.in/\" + url,\r\n                filename: fileName,\r\n                instance_id: \"647B3C9AA8D0A\", \r\n\r\n                access_token: \"0a3e27126c2c239bdf7f9128943ef9c0\"\r\n\r\n            }), {\r\n                method: 'GET',\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    uplaodFile = async (file) => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            const formData = new FormData();\r\n            formData.append('file', file, file.name);\r\n            const res = await fetch(URL.UPLOAD_FILE, {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n\r\n    getUploadedFile = async () => {\r\n        try {\r\n            GlobalEmitterService.emit(true);\r\n            const res = await fetch(URL.GET_UPLOAD_FILE_URL, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({})\r\n\r\n            });\r\n            const result = await res.json();\r\n            GlobalEmitterService.emit(false);\r\n            return result;\r\n        } catch (e) {\r\n            GlobalEmitterService.emit(false);\r\n            throw new Error(e.message, e.options);\r\n        }\r\n    }\r\n}","export const COLORS = [\"#D4E6F1\", \"#E8DAEF\",  \"#808000\", \"#C39BD3\", \"#76D7C4\", \"#3498DB\", \"#358b79\", \"#847f86\", \"rgb(251, 235, 9)\", \"#CA6F1E\", \"#CCCCFF\", \"#F4D03F\", \"rgb(199, 185, 84)\", \"#979A9A\", \"#F0B27A\", \"rgb(117, 98, 179)\", \"#CD5C5C\", \"#40E0D0\", \"#DAF7A6\",\"#CECCA9\", \"#F6DA80\", \"#FADBD8\",\"5F8993\", \"486E76\", \"green\", \"yellow\", \"white\", \"red\", \"pink\"]\r\n","import html2canvas from 'html2canvas';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { RxCross2 } from \"react-icons/rx\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { Alert, UncontrolledAlert, Button, Form, FormGroup, Input, Row, Col, ButtonGroup, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, Badge } from 'reactstrap';\r\nimport TtApi from '../../../api/tt.api.js';\r\nimport UploadApi from '../../../api/upload.api.js';\r\nimport { COLORS } from '../../../const/color.const.js';\r\nimport AddBatch from '../AddBatch/AddBatch.js';\r\nimport { teachers_list, time } from '../List/List.js';\r\nimport AddTeacher from '../TeacherForm/TeacherForm.js';\r\nimport \"./CloneTimeTable.scss\";\r\n\r\nconst CloneTimeTable = () => {\r\n    /***************************************** Use Params Section******************************/\r\n    const { fromDateEdit, timeTableId } = useParams();\r\n\r\n    /**************************************** const Section ************************************/\r\n    /**************************************** Use Effect Section ************************************/\r\n    useEffect(() => {\r\n        appenColorTOTeacherList();\r\n        getEditTimeTable();\r\n    }, []);\r\n\r\n    /**************************************** State Section *****************************************/\r\n    const [tt, setTt] = useState(null);\r\n    /* taking the below useStates from timetable.js*/\r\n    const [draggedTeacher, setDraggedTeacher] = useState({}); // Contains dragged teacher\r\n    const [lectureList, setLectureList] = useState([]); //contains the lecture list\r\n    const [teacherAssignment, setTeacherAssignment] = useState({});\r\n    const [teacherCounter, setTeacherCounter] = useState({}); // key: teacherId, value: counter\r\n    const [lectureTeacherCounter, setLectureTeacherCounter] = useState({}); // key: lectureId_teacherId, value: counter to check duplicate rows\r\n    const [duplicateTeacherDetectedInRow, setDuplicateTeacherDetectedInRow] = useState(false);\r\n    const [draggedCellKey, setDraggedCellKey] = useState(null);\r\n    // contains key of teacher asignment which is grag within the table\r\n    const [showAddBatchModal, setShowAddBatchModal] = useState(false); //for add Batch popup\r\n    const [showAddTeacherModal, setShowAddTeacherModal] = useState(false); //for add teacher popup\r\n    const [fromDate, setFromDate] = useState(\"\");\r\n    const [toDate, setToDate] = useState(\"\");\r\n    const [showAlert, setShowAlert] = useState(\"\"); // to show alert\r\n    const [timeOfAlert, setTimeOfAlert] = useState(false);\r\n    const [batchList, setBatchList] = useState([]);\r\n    const [teacherList, setTeacherList] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    // const [numberList, setNumberList] = useState([917898118503, 918871688429]);\r\n    const [numberList, setNumberList] = useState([917898118503,919826362001,918349215747,917314058393,917869597239,919977116612,918085390900,918302184021,918358810742,919893640561,919713519598,919713030834,919827274005,919691938832,917043127836,917298519996,919713191848,918871841238,917007794323,919669889020,919770432150]);\r\n    const divRef = useRef(null); // used to send image as the code under this will be sent as image see the return(render)\r\n\r\n    /**************************************** Component Method Section *********************************/\r\n    const appenColorTOTeacherList = () => {\r\n        //due to this method once the color assigned to the teacher will stick to that teacher only i.e on deleting the teacher from teacher list the color will aslo be deleted i.e will not assign to the next teacher.\r\n        const stateTeacherList = [];\r\n        teachers_list.forEach((teacher, i) => {\r\n            teacher.color = COLORS[i];\r\n            stateTeacherList.push(teacher);\r\n        });\r\n        setTeacherList([...stateTeacherList]);\r\n    };\r\n\r\n    const getEditTimeTable = async () => {\r\n        const result = await new TtApi().getEditTt(fromDateEdit);\r\n        if (!result.IsSuccessful) {\r\n            setShowAlert(<UncontrolledAlert color=\"danger\" fade={false}>\r\n                Something went wrong\r\n            </UncontrolledAlert>);\r\n            return;\r\n        }\r\n        setTt({ ...result.Object });\r\n        setFromDate(result.Object.FromDate)\r\n        setToDate(result.Object.ToDate);\r\n        setBatchAndTimeList(result.Object);\r\n        setLectureList([...result.Object.LectureList])\r\n        initTimeTable(result);\r\n        setLoaded(true); //used so that it becomes true only when all things loaded completely\r\n    }\r\n\r\n    const initTimeTable = (result) => {\r\n        const stateTeacherAssignment = teacherAssignment;\r\n        if (result.Object.LectureList?.length > 0) {\r\n            result.Object.LectureList?.forEach(lec => {\r\n                if (lec?.Batch?.BatchID && lec?.Lecture?.LectureName && lec?.FacultyID) {\r\n                    const lecture = time.find(t => t.Lecture === lec?.Lecture?.LectureName);\r\n                    const teacher = teachers_list.find(t => t.FacultyID === lec.FacultyID);\r\n                    if (lecture?.LectureID && teacher?.FacultyID && result?.Object?.BatchID?.indexOf(lec?.Batch?.BatchID) >= 0 && result?.Object?.LectureID?.indexOf(lecture?.LectureID) >= 0) {\r\n                        const key = lecture.LectureID + '_' + lec?.Batch?.BatchID;\r\n                        if (!teacherAssignment[key]) {\r\n                            stateTeacherAssignment[key] = teacher;\r\n                            setTeacherAssignment({ ...stateTeacherAssignment });\r\n                            updateLectureListOnDrop(lecture, lec?.Batch, teacher);\r\n                            checkDuplicateTeacherInRowOnDrop(lecture.LectureID, teacher.FacultyID);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        initTeacherCounter();\r\n    }\r\n\r\n    const initTeacherCounter = () => {\r\n        const teacherCounter = {};\r\n        Object.keys(lectureTeacherCounter).forEach(key => {\r\n            const teacherLecture = key.split('_');\r\n            const teacherId = teacherLecture[1];\r\n            if (teacherCounter[teacherId]) {\r\n                teacherCounter[teacherId] += 1;\r\n            } else {\r\n                teacherCounter[teacherId] = 1;\r\n            }\r\n        });\r\n        setTeacherCounter({ ...teacherCounter });\r\n    };\r\n\r\n    const setBatchAndTimeList = (tt) => {\r\n        if (tt) {\r\n            const stateBatchList = tt?.Batch?.filter(it => tt.BatchID?.indexOf(it.BatchID) >= 0);\r\n            setBatchList([...stateBatchList]);\r\n            //filtering only those Batches from Batch List whose Batch ID's are there with us as the Batch array in saved data has all the batches(i.e it also included those batches which are not being used or added in the time table so need to filter them)\r\n        }\r\n    };\r\n\r\n    /* Taking the below code from timetable.js*/\r\n    const dragStart = (e, teacherDragged) => {\r\n        setDraggedTeacher(teacherDragged);\r\n    };\r\n\r\n    const allowDrop = (ev) => {\r\n        let t = ev.target;\r\n        while (t && (!t.classList || !t.classList.contains(\"each-block\"))) {\r\n            t = t.parentNode;\r\n        }\r\n        if (t && t.innerText.trim() !== \"\") {\r\n            // Prevent drop event if cell is not empty\r\n            return false;\r\n        }\r\n        ev.preventDefault();\r\n    };\r\n\r\n    // Prepare lecture list\r\n    const updateLectureListOnDrop = (lecture, batch, teacher) => {\r\n        const stateLectureList = lectureList;\r\n        const lectureDto = {};\r\n        lectureDto.ID = \"0\";\r\n        lectureDto.TimeTableID = \"0\";\r\n        lectureDto.LectureName = \"\";\r\n        lectureDto.Batch = batch;\r\n        lectureDto.Lecture = lecture;\r\n        lectureDto.Subject = teacher.subject;\r\n        lectureDto.FacultyID = teacher.FacultyID;\r\n        lectureDto.IsActive = true;\r\n        lectureDto.CreatedByUserID = \"1\";\r\n        lectureDto.CreatedOnDate = \"02/05/2023\";\r\n        stateLectureList.push(lectureDto);\r\n        setLectureList([...stateLectureList]);\r\n    };\r\n\r\n    const updateTeacherCounterOnDrop = (teacher, lectureId) => {\r\n        const stateTeacherCounter = teacherCounter;\r\n        if (!stateTeacherCounter[teacher.FacultyID]) {\r\n            stateTeacherCounter[teacher.FacultyID] = 1;\r\n            setTeacherCounter({ ...stateTeacherCounter });\r\n            return;\r\n        }\r\n        // to update the counter of teacher when new teacher is droped into the cell of table\r\n        const key = lectureId + '_' + teacher.FacultyID;\r\n        if (lectureTeacherCounter && lectureTeacherCounter[key] && lectureTeacherCounter[key] > 1) {\r\n            return;\r\n        }\r\n        stateTeacherCounter[teacher.FacultyID] += 1;\r\n        setTeacherCounter({ ...stateTeacherCounter });\r\n    }\r\n\r\n    const checkDuplicateTeacherInRowOnDrop = (lectureId, teacherId) => {\r\n        //for checking duplicate teacher in a row\r\n        const key = lectureId + '_' + teacherId;\r\n        // as each cell of teacher has id as the combination of lectureId i.e time and batchId i.e column and we want to check duplicate in row so we need only lectuereID and teacherID so if counter with this ID >1 it means in same row two same teachers are there.\r\n        const stateLectureTeacherCounter = lectureTeacherCounter;\r\n        if (!stateLectureTeacherCounter[key] || stateLectureTeacherCounter[key] < 1) {\r\n            stateLectureTeacherCounter[key] = 1;\r\n            // i.e if no counter is yet i.e counte is 0 then make it count 1 when teacher is dropped else if already teacher is there i.e counter >0 then add 1 to previous count value\r\n        } else {\r\n            stateLectureTeacherCounter[key] += 1;\r\n        }\r\n        setLectureTeacherCounter({ ...stateLectureTeacherCounter });\r\n        if (stateLectureTeacherCounter[key] > 1) {\r\n            // i.e if counter>1 with same ID i.e key=lectureId + teacherID it means two same teacher in a row so setDuplicateTeacherDetectedInRow will be true and if this will true then we will use blink feature which used further in the code;\r\n            setDuplicateTeacherDetectedInRow(true);\r\n            setTimeout(() => {\r\n                setDuplicateTeacherDetectedInRow(false);\r\n            }, 3000); // Alert duration \r\n        }\r\n    }\r\n\r\n    /**\r\n     * On Drop\r\n     * Check if drops within the table if yes remove techer from current block by preserving the teacher and proceed for select teacher & if no proceed for select teacher\r\n     * set teacher assignment object\r\n     * set teature lecture list for api call (updateLectureListOnDrop)\r\n     * update teacher drop counter (updateTeacherCounterOnDrop)\r\n     * Check if teacher dropped in same row if yes show alert and set lecture vs teacher counter to use for blink (checkDuplicateTeacherInRowOnDrop)\r\n     * empty teacher state\r\n     * empty state used withing table drag\r\n     */\r\n    const handleDrop = (e, lecture, batch) => {\r\n        let selectedTeacher = draggedTeacher;\r\n        if (draggedCellKey) {\r\n            // draggedCellKey is for handling drag and drop within table ..so if any already assigned teacher is dragged then it should be deleted with deleting whole its identity from the dragged cell so we will use remove method to remove it from the cell from where its being dragged and will further proceed for drop\r\n            // if dragged within the table remove source & proceed for drop\r\n            const keyInside = draggedCellKey.lecture.LectureID + '_' + draggedCellKey.batch.BatchID;  // i.e providing key to the cell of table\r\n            selectedTeacher = teacherAssignment[keyInside]; // i.e teacher assigned to table cell which is detected by using keyInside\r\n            removeTeacher(draggedCellKey.lecture.LectureID, draggedCellKey.batch.BatchID, teacherAssignment[keyInside].FacultyID);\r\n        }\r\n        // i.e now proceed for drop (for both i.e for teacher dragged from teacher list or dragged from table cell ) i.e set or update teacherAssignment, lectureList, counter, checkforduplicate, then make dragged teacher again empty and also the empty the draggedcell key....see below\r\n        const stateTeacherAssignment = teacherAssignment;\r\n        const key = lecture.LectureID + '_' + batch.BatchID;\r\n        teacherAssignment[key] = selectedTeacher;\r\n        setTeacherAssignment({ ...stateTeacherAssignment });\r\n        updateLectureListOnDrop(lecture, batch, selectedTeacher);\r\n        checkDuplicateTeacherInRowOnDrop(lecture.LectureID, selectedTeacher.FacultyID);\r\n        updateTeacherCounterOnDrop(selectedTeacher, lecture.LectureID);\r\n        setDraggedTeacher({});\r\n        setDraggedCellKey(null);\r\n    }\r\n\r\n    const removeTeacher = (lectureId, batchId, teacherId) => {\r\n        // Remove from teacher assignment ...// Remove from teacher assignment i.e when clicked on cross of teacher assigned to the cell just remove it from that cell and again set new updated teacherAssignements to time table without removed teacher\r\n        const key = lectureId + '_' + batchId\r\n        const stateTeacherAssignment = teacherAssignment;\r\n        delete stateTeacherAssignment[key];\r\n        setTeacherAssignment({ ...stateTeacherAssignment });\r\n\r\n        // Remove from lecture list ....as those removed assigned teachers must also be removed from lecture list \r\n        const stateLectureList = lectureList;\r\n        const index = stateLectureList?.findIndex(row => row.Batch?.BatchID === batchId && row.Lecture?.LectureID === lectureId);\r\n        if (index >= 0) {\r\n            stateLectureList.splice(index, 1);\r\n            setLectureList([...stateLectureList]);\r\n        }\r\n\r\n        // To make not blink when teacher itself dragged from one place to other in same row\r\n        const stateLectureTeacherCounter = lectureTeacherCounter;\r\n        const lectureTeacherKey = lectureId + '_' + teacherId;\r\n        if (stateLectureTeacherCounter[lectureTeacherKey] > 1) {\r\n            stateLectureTeacherCounter[lectureTeacherKey] -= 1;\r\n        } else {\r\n            delete stateLectureTeacherCounter[lectureTeacherKey];\r\n        }\r\n        setLectureTeacherCounter(stateLectureTeacherCounter);\r\n\r\n        const keyLtId = lectureId + '_' + teacherId;\r\n        if (lectureTeacherCounter && lectureTeacherCounter[keyLtId] && lectureTeacherCounter[keyLtId] >= 1) {\r\n            return;\r\n        }\r\n\r\n        // Decrease one from teacher counter\r\n        const stateTeacherCounter = teacherCounter;\r\n        stateTeacherCounter[teacherId] -= 1;\r\n        if (stateTeacherCounter[teacherId] <= 0) {\r\n            delete stateTeacherCounter[teacherId];\r\n        }\r\n        setTeacherCounter(stateTeacherCounter);\r\n    }\r\n\r\n    // Called to provide class name if true set classname blink else empty\r\n    // return true if same teacher counter greater than one with respect to lectureId\r\n    const isTeacherDuplicateInLecture = (lectureId, teacherId) => {\r\n        if (!lectureId || !teacherId) {\r\n            return false;\r\n        }\r\n        const key = lectureId + '_' + teacherId;\r\n        return lectureTeacherCounter[key] > 1;\r\n    };\r\n\r\n    const handleTableCellDragStart = (e, lecture, batch) => {\r\n        setDraggedCellKey({\r\n            lecture, batch\r\n        });\r\n    };\r\n\r\n    const onDragEnd = (e) => {\r\n        setDraggedTeacher({});\r\n    }\r\n\r\n    const formatDate = (date) => {\r\n        if (!date) {\r\n            return \"\"; //if not date then return nothing\r\n        }\r\n        const dateParts = date.split(\"/\"); // to split the date on behalf oh slash\r\n        // month is 0-based, that's why we need dataParts[1] - 1\r\n        const formatedDate = `${dateParts[2]}-${dateParts[1]}-${dateParts[0]}`; // converting dd/mm/yyyy to dd-mm-yyyy\r\n        return formatedDate;\r\n    }\r\n    /*********************************************This below methods are added by jitendra from TimeTable.js***********************************/\r\n    const generateUID = () => {\r\n        // I generate the UID from two parts here \r\n        // to ensure the random number provide enough bits.\r\n        var firstPart = (Math.random() * 46656) | 0;\r\n        var secondPart = (Math.random() * 46656) | 0;\r\n        firstPart = (\"000\" + firstPart.toString(36)).slice(-3);\r\n        secondPart = (\"000\" + secondPart.toString(36)).slice(-3);\r\n        return firstPart + secondPart;\r\n    }\r\n\r\n    const convertToImage = async () => {\r\n        // alert(\"Time table image sent successfully\")\r\n        divRef.current.style.width = \"max-content\";\r\n        const canvas = await html2canvas(divRef.current); //data converted to image through html2canvas\r\n        const imgData = canvas.toDataURL();\r\n        /*converting page64 url got as imgData into file Object by using blob below*/\r\n        const byteString = atob(imgData.split(',')[1]);\r\n        const mimeString = imgData.split(',')[0].split(':')[1].split(';')[0];\r\n        const ia = new Uint8Array(byteString.length);\r\n        for (let i = 0; i < byteString.length; i++) {\r\n            ia[i] = byteString.charCodeAt(i);\r\n        }\r\n        const blob = new Blob([ia], { type: mimeString });\r\n        const imageName = generateUID();\r\n        const file = new File([blob], imageName + \".jpg\");\r\n        const fileName = imageName + \".jpg\";\r\n        const result = await new UploadApi().uplaodFile(file);\r\n        divRef.current.style.width = \"100%\";\r\n        if (result === \"Success\") {\r\n            const data = await new UploadApi().getUploadedFile();\r\n            if (data.Object?.length > 0) {\r\n                const fileDetail = data.Object.reverse().find(obj => { return obj.Title?.indexOf(imageName) >= 0 });\r\n                for (let i = 0; i < numberList.length; i++) {\r\n                    try {\r\n                        const cell = numberList[i];\r\n                        /*CHECK THE DETAILS OF THIS GETWATTSAPPAPI IN UPLOAD.API.JS FILE IN API FOLDER*/\r\n                        await new UploadApi().getWattsappApi(fileDetail.LongURL, \"time table\", cell, fileName);\r\n                        // await new UploadApi().getWattsappGroupApiOthers(fileDetail.LongURL, \"time table\", fileName);\r\n                        // await new UploadApi().getWattsappGroupApiTeachers(fileDetail.LongURL, \"time table\", fileName);\r\n                        continue;\r\n                    } catch (e) {\r\n                        continue;\r\n                    }\r\n                    // try {\r\n                    //     await new UploadApi().getWattsappGroupApiTeachers(fileDetail.LongURL, \"time table\", fileName);\r\n                    // } catch (e) {\r\n                    // }\r\n                }\r\n            }\r\n        }\r\n        if (!timeOfAlert) {\r\n            setShowAlert(<UncontrolledAlert color=\"success\" fade={false}>\r\n                Time table image sent successfully\r\n            </UncontrolledAlert>);\r\n            setTimeout(() => {\r\n                setTimeOfAlert(false);\r\n                setShowAlert(\"\");\r\n            }, 3000);\r\n        };\r\n    }\r\n\r\n    // method to convert date with \"-\" into date with \"/\" and correcting the format also....this method is created sothat single method could be used in both fromdate and todate..i.e no need to write again and again\r\n    const formateDateWithslash = (date) => {\r\n        const parts = date.split(\"-\");\r\n        const formatedDate = `${parts[2]}/${parts[1]}/${parts[0]}`; // converting yyyy-mm-dd to dd/mm/yyyy\r\n        return formatedDate;\r\n    }\r\n\r\n    const onChangeFromDate = (e) => {\r\n        const date = e.target.value;\r\n        setFromDate(formateDateWithslash(date)); // dont do directly setFromDate(e.target.value) as date with slash is required\r\n    }\r\n\r\n    const onChangeToDate = (e) => {\r\n        const date = e.target.value;\r\n        setToDate(formateDateWithslash(date));\r\n    }\r\n\r\n    const onAddBatch = () => {\r\n        setShowAddBatchModal(true);  // method of opening pop up on clicking add batch\r\n    }\r\n\r\n    const onDeleteBatch = (batchID) => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this batch?');\r\n        // to open confirm pop up alert to ask do yow want to delete or cancel it ...and if select ok that is if confirmed then update batches as..\r\n        if (confirmDelete) {\r\n            const updatedBatches = batchList.filter((each) => each.BatchID !== batchID);\r\n            setBatchList(updatedBatches);\r\n        }\r\n    };\r\n\r\n    const onAddTeacher = () => {\r\n        setShowAddTeacherModal(true);\r\n        // method of opening popup when clicked on add teacher button\r\n    }\r\n\r\n    const onDeleteTeacher = (facultyID) => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this Faculty?');\r\n        if (confirmDelete) {\r\n            const updatedTeachers = teacherList.filter((each) => each.FacultyID !== facultyID);\r\n            setTeacherList(updatedTeachers);\r\n        };\r\n    }\r\n\r\n    //to save the time table on clicking the save button\r\n    const saveTable = async () => {\r\n        const sentBatchID = batchList.map(item => item.BatchID);\r\n        if (fromDate === tt.FromDate) {\r\n            await new TtApi().removeTtById(tt.TimeTableID);\r\n        }\r\n        console.log(\"xxxx\", tt.TimeTableID);\r\n        const body = {\r\n            TimeTableID: 0,\r\n            Description: \"time table save\",\r\n            DateType: !!toDate ? \"multiple\" : \"single\",\r\n            FromDate: fromDate,\r\n            ToDate: toDate,\r\n            ShiftID: tt.ShiftID,\r\n            SessionID: tt.SessionID,\r\n            Session: tt.Session,\r\n            BatchID: sentBatchID,\r\n            LectureID: tt.LectureID,\r\n            IsActive: true,\r\n            CreatedByUserID: tt.CreatedByUserID,\r\n            CreatedOnDate: new Date(),\r\n            LectureList: lectureList\r\n        };\r\n\r\n        const result = await new TtApi().addUpdateTt(body);\r\n        if (result === 'Success') {\r\n            if (!timeOfAlert) {\r\n                setShowAlert(<UncontrolledAlert color=\"success\" fade={false}>\r\n                    time table saved successfully\r\n                </UncontrolledAlert>);\r\n                setTimeout(() => {\r\n                    setTimeOfAlert(false);\r\n                    setShowAlert(\"\");\r\n                }, 3000);\r\n            };\r\n\r\n        } else {\r\n            if (!timeOfAlert) {\r\n                setShowAlert(<UncontrolledAlert color=\"danger\" fade={false}>\r\n                    {result?.ExceptionMessage ?? 'An error has occurred.'}\r\n                </UncontrolledAlert>);\r\n                setTimeout(() => {\r\n                    setTimeOfAlert(false);\r\n                    setShowAlert(\"\");\r\n                }, 3000);\r\n            };\r\n        }\r\n    };\r\n\r\n    // to clear all assigned teacher to table at once on clicking on clear button\r\n    const clearAll = (key) => {\r\n        // const key = lectureId + '_' + batchId\r\n        const stateTeacherAssignment = teacherAssignment;\r\n        delete stateTeacherAssignment[key];\r\n        setTeacherAssignment({ stateTeacherAssignment });\r\n    }\r\n\r\n    /**************************************** Template Section *****************************************/\r\n    return (\r\n        <>\r\n            {\r\n                loaded ? <div>\r\n                    <div className=\"bg-container\">\r\n                        <Row>\r\n                            <Col>\r\n                                {showAlert}\r\n                                {\r\n                                    duplicateTeacherDetectedInRow ? <Alert color=\"warning\">\r\n                                        Two same teachers found in the same row\r\n                                    </Alert> : <></>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                        {/* <h1 className='heading-style'>CLASS SCHEDULE</h1> */}\r\n                        <Row>\r\n                            <Col>\r\n                                <Form>\r\n                                    <div>\r\n                                        <Row>\r\n                                            <div className=\"col-sm-12 col-md-3 label-date-allignment\">\r\n                                                <span className=\"date-label-style\">From<span style={{ color: \"red\" }}>*</span>:&nbsp;&nbsp;</span>\r\n                                                <Input\r\n                                                    id=\"fromDate\"\r\n                                                    name=\"fromDate\"\r\n                                                    type=\"date\"\r\n\r\n                                                    defaultValue={formatDate(fromDate)}\r\n                                                    onChange={(e) => { onChangeFromDate(e) }}\r\n                                                    className='input-size'\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-sm-12 col-md-3 label-date-allignment\">\r\n                                                <span className=\"date-label-style\">To:&nbsp;&nbsp;</span>\r\n                                                <Input\r\n                                                    id=\"toDate\"\r\n                                                    name=\"toDate\"\r\n                                                    type=\"date\"\r\n                                                    defaultValue={formatDate(toDate)}\r\n\r\n                                                    onChange={(e) => { onChangeToDate(e) }}\r\n                                                    className='input-size'\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"d-lg-none\">\r\n                                                <br></br>\r\n                                                <div className=\"button-group\">\r\n                                                    <Button className=\"btn\" color=\"info\" onClick={saveTable} disabled={fromDate === ''}>\r\n                                                        Save\r\n                                                    </Button>\r\n                                                    <Button className=\"btn\" color=\"info\" onClick={convertToImage}>\r\n                                                        Post\r\n                                                    </Button>\r\n                                                    <ButtonGroup >\r\n                                                        <UncontrolledDropdown>\r\n                                                            <DropdownToggle color=\"info\" caret>\r\n                                                                More Actions\r\n                                                            </DropdownToggle>\r\n                                                            <DropdownMenu>\r\n                                                                <DropdownItem onClick={onAddBatch}>\r\n                                                                    Add Batches\r\n                                                                </DropdownItem>\r\n                                                                <DropdownItem divider />\r\n                                                                <DropdownItem onClick={onAddTeacher}>\r\n                                                                    Add Teachers\r\n                                                                </DropdownItem>\r\n                                                                <DropdownItem divider />\r\n                                                                <DropdownItem onClick={clearAll}>\r\n                                                                    Clear ALL\r\n                                                                </DropdownItem>\r\n                                                            </DropdownMenu>\r\n                                                        </UncontrolledDropdown>\r\n                                                    </ButtonGroup>\r\n                                                </div>\r\n                                                <br></br>\r\n                                            </div>\r\n                                            <div className=\"d-none d-md-block col-md-6\">\r\n                                                <div className=\"button-group\">\r\n                                                    <Button className=\"btn \" color=\"info\" onClick={onAddBatch}>\r\n                                                        Add Batches\r\n                                                    </Button>\r\n                                                    <Button className=\"btn\" color=\"info\" onClick={onAddTeacher}>\r\n                                                        Add Teachers\r\n                                                    </Button>\r\n                                                    <Button className=\"btn\" color=\"info\" onClick={saveTable} disabled={fromDate === ''}>\r\n                                                        Save\r\n                                                    </Button>\r\n                                                    <Button className=\"btn\" color=\"info\" onClick={convertToImage}>\r\n                                                        Post\r\n                                                    </Button>\r\n                                                    <Button className=\"btn\" color=\"info\" onClick={clearAll}>\r\n                                                        Clear ALL\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Row>\r\n                                    </div>\r\n                                </Form>\r\n                            </Col>\r\n                        </Row>\r\n                        {/* <div className=\"button-group added-style\">\r\n                            <Button className=\"btn \" color=\"info\" onClick={onAddBatch}>\r\n                                Add Batches\r\n                            </Button>\r\n                            {showAddBatchModal && <AddBatch showModal={showAddBatchModal} setShowModal={setShowAddBatchModal} batchList={batchList} />}\r\n                            <Button className=\"btn\" color=\"info\" onClick={onAddTeacher}>\r\n                                Add Teachers\r\n                            </Button>\r\n                            {showAddTeacherModal && <AddTeacher showModal={showAddTeacherModal} setShowModal={setShowAddTeacherModal} teacherList={teacherList} />}\r\n                            <Button className=\"btn\" color=\"info\" onClick={saveTable}>\r\n                                Save\r\n                            </Button>\r\n                            <Button className=\"btn\" color=\"info\" onClick={convertToImage}>\r\n                                Post\r\n                            </Button>\r\n                            <Button className=\"btn\" color=\"info\" onClick={clearAll}>\r\n                                Clear ALL\r\n                            </Button>\r\n                        </div> */}\r\n                        <Row>\r\n                            <Col>\r\n                                <div>\r\n                                    {showAddBatchModal && <AddBatch showModal={showAddBatchModal} setShowModal={setShowAddBatchModal} batchList={batchList} />}\r\n                                    {showAddTeacherModal && <AddTeacher showModal={showAddTeacherModal} setShowModal={setShowAddTeacherModal} teacherList={teacherList} />}\r\n                                    <div ref={divRef} className='table-container'>\r\n                                        {/* the code below under divRef div will be converted to image as if you see convertImage method above divRef.current is taken */}\r\n                                        <table className='table-style'>\r\n                                            <tbody>\r\n                                                <div className=\"for-time\">\r\n                                                    <tr>\r\n                                                        <td className='F-style time-style'>Time</td>\r\n                                                        {batchList && batchList.map((batch) => {\r\n                                                            return (\r\n                                                                <td className='F-style batch-style' key={batch.BatchID}>{batch.Batch}\r\n                                                                    <button className=\"delete-style\" onClick={() => onDeleteBatch(batch.BatchID)}><RxCross2 /></button>\r\n                                                                </td>\r\n                                                            )\r\n                                                        })}\r\n\r\n                                                    </tr>\r\n                                                </div>\r\n                                                <tr >\r\n                                                    {time.map((t) => {\r\n                                                        return (\r\n                                                            <div >\r\n                                                                <td className='F-style time-style'>{t.Time_From}-{t.Time_To}</td>\r\n                                                                {batchList && batchList.map((b) => {\r\n                                                                    const key = t.LectureID + '_' + b.BatchID\r\n                                                                    return (\r\n                                                                        <td\r\n                                                                            draggable={!!teacherAssignment[key]?.Faculty}\r\n                                                                            onDragOver={allowDrop}\r\n                                                                            onDrop={(e) => handleDrop(e, t, b)}\r\n                                                                            onDragStart={(e) => handleTableCellDragStart(e, t, b)}\r\n                                                                            key={key}\r\n                                                                            id={key}\r\n                                                                            className={`each-block ${isTeacherDuplicateInLecture(t.LectureID, teacherAssignment[key]?.FacultyID ?? null) ? \"blink\" : \"\"}`}\r\n                                                                            style={{ backgroundColor: teacherAssignment[key]?.color }}\r\n                                                                        >\r\n                                                                            <div className={`teacname-cross-style ${teacherAssignment[key]?.className} `}>\r\n                                                                                <div className=\"teacher-name\" >\r\n                                                                                    {teacherAssignment[key]?.Faculty}\r\n                                                                                </div>\r\n                                                                                <div className=\"cross-btn-container\">\r\n                                                                                    {teacherAssignment[key]?.Faculty ? (\r\n                                                                                        <button\r\n                                                                                            className=\"cross-style\"\r\n                                                                                            onClick={() => removeTeacher(t.LectureID, b.BatchID, teacherAssignment[key].FacultyID)}\r\n                                                                                        >\r\n                                                                                            <RxCross2 />\r\n                                                                                        </button>\r\n                                                                                    ) : <></>}\r\n                                                                                </div>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    )\r\n                                                                })}\r\n                                                            </div>\r\n                                                        )\r\n                                                    })}\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            <Col>\r\n                                <div className='teacher-container'>\r\n                                    {teacherList.map((teacher, index) => {\r\n                                        const { FacultyID, Faculty } = teacher;\r\n                                        return (\r\n                                            <div\r\n                                                style={{ backgroundColor: teacher.color }}\r\n                                                key={FacultyID}\r\n                                                className=\"teacher-item\"\r\n                                                draggable={true}\r\n                                                onDragStart={(e) => dragStart(e, teacher)}\r\n                                                onDragEnd={(e) => onDragEnd(e)}\r\n                                            >\r\n                                                <span>{Faculty}</span>\r\n                                                {teacherCounter[FacultyID] > 0 && (\r\n                                                    <Badge className=\"counter-item\">\r\n                                                        {teacherCounter[FacultyID]}\r\n                                                    </Badge>\r\n                                                )}\r\n                                                <span onClick={() => onDeleteTeacher(teacher.FacultyID)} className=\"remove-icon\" color='danger'>\r\n                                                    <RxCross2 />\r\n                                                </span>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                </div> : <div></div>\r\n            }\r\n            {/* {editTimeTable} */}\r\n        </>\r\n    )\r\n}\r\nexport default CloneTimeTable\r\n"],"sourceRoot":""}